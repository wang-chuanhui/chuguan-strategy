/*! For license information please see chuguan-strategy.js.LICENSE.txt */
(()=>{var t,e,i={144:(t,e,i)=>{"use strict";const r=i(3908);t.exports=(t,e,i=!1)=>{if(t instanceof r)return t;try{return new r(t,e)}catch(t){if(!i)return null;throw t}}},210:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2700),n=i(3472),s=i(2453);class a{constructor(t={}){}getViews(){return[{title:(0,s.k)("setting.domain_sort"),path:"domain_sort",back_path:"setting",subview:!0,hidden:!1,order:1/0,strategy:{type:"custom:chuguan-strategy",options:{type:"domain_sort"}},background:(0,n.Y)("setting")}]}async getCards(){const t=[],e=[];return e.push(this.getSortAres()),t.push({type:"vertical-stack",cards:e}),t}getSortAres(){const t=r.O.strategyOptions.views;console.log(t);const e=Object.keys(t).filter((t=>"_"!==t&&"default"!==t)).filter((t=>"home"!=t)).filter(o.uS).map(((t,e)=>{const i=r.O.strategyOptions.views[t],o=r.O.strategyOptions.domains[t];return{id:t,name:o?.title??t,visible:!i.hidden,order:i.order??e+2}}));return console.log(e),{type:"custom:chuguan-sort-list",list:e,event:"cg_sort_domains",action:{action:"navigate",navigation_path:"setting"}}}}},245:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2453),n=i(1122);class s extends n.default{static getDefaultConfig(){return{title:(0,o.k)("fan.fans"),path:"fans",icon:"mdi:fan",subview:!1,headerCardConfiguration:{iconOn:"mdi:fan",iconOff:"mdi:fan-off",onService:"fan.turn_on",offService:"fan.turn_off"}}}static getViewHeaderCardConfig(){return{title:(0,o.k)("fan.all_fans"),subtitle:`${r.O.getCountTemplate(s.domain,"eq","on")} ${(0,o.k)("fan.fans")} `+(0,o.k)("generic.on")}}constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}}s.domain="fan";const a=s},270:(t,e,i)=>{"use strict";const r=i(3908),o=i(8311);t.exports=(t,e,i)=>{let n=null,s=null,a=null;try{a=new o(e,i)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(n&&1!==s.compare(t)||(n=t,s=new r(n,i)))})),n}},560:(t,e,i)=>{"use strict";const r=i(3908);t.exports=(t,e,i)=>new r(t,i).compare(new r(e,i))},564:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>u});var r=i(3472),o=i(2453),n=i(7407),s=i(210),a=i(2618),c=i(4791),l=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s};let d=class extends a.WF{_handleClick(){let t="always_hidden";"always_hidden"==this.hass.dockedSidebar&&(t="docked"),this.dispatchEvent(new CustomEvent("hass-dock-sidebar",{detail:{dock:t},bubbles:!0,composed:!0}))}setConfig(t){}connectedCallback(){super.connectedCallback(),this.queryCard()}queryCard(){const t="always_hidden"==this.hass.dockedSidebar,e=this.renderRoot.querySelector("#docked-sidebar");e?(e.setConfig&&e.setConfig({primary:t?(0,o.k)("event.show_sidebar"):(0,o.k)("event.hide_sidebar"),icon:"mdi:page-layout-sidebar-left",icon_color:"blue",tap_action:{action:"none"},hold_action:{action:"none"}}),e.hass=this.hass):setTimeout((()=>{this.queryCard()}),10)}render(){return a.qy`
        <mushroom-template-card id="docked-sidebar" @click="${this._handleClick}">
      </mushroom-template-card>
    `}};l([(0,c.MZ)({attribute:!1})],d.prototype,"hass",void 0),d=l([(0,c.EM)("chuguan-docked-sidebar")],d);class u{constructor(){}getViews(){return[{title:(0,o.k)("setting.title"),path:"setting",subview:!1,hidden:!1,order:1/0,strategy:{type:"custom:chuguan-strategy",options:{type:"setting"}},background:(0,r.Y)("setting")},...(new n.default).getViews(),...(new s.default).getViews()]}async getCards(){const t=[],e=[];return e.push(...this.getSidebar()),e.push(this.getSortAres()),e.push(this.getSortDomain()),e.push({type:"custom:chuguan-event-button",title:"测试",event:"ll-edit-card",detail:{path:[0,2,1]},event11:"show-dialog",detail1:{dialogTag:"hui-dialog-edit-card",dialogParams:{lovelaceConfig:{views:[{type:"sections",max_columns:4,title:"12",path:"12",sections:[{type:"grid",cards:[{type:"heading",heading:"新建部件"}]},{type:"grid",cards:[{type:"heading",heading:"新建部件"},{show_name:!0,show_icon:!0,type:"button",tap_action:{action:"toggle"},entity:"switch.wifiliang_yi_jia_xiao_du"}],column_span:1},{type:"grid",cards:[{type:"heading",heading:"新建部件"},{type:"custom:mushroom-light-card",entity:"light.tai_deng"}]}],background:{opacity:31,alignment:"center",size:"cover",repeat:"repeat",attachment:"scroll"},cards:[]},{title:"Home",sections:[{type:"grid",cards:[{type:"heading",heading:"新建部件",heading_style:"title",icon:"mdi:account"},{show_name:!0,show_icon:!1,type:"button",tap_action:{action:"perform-action",perform_action:"button.press",target:{entity_id:"button.liang_yi_jia_chui_feng"}},entity:"button.liang_yi_jia_chui_feng",show_state:!1,icon:"mdi:button-pointer"},{show_name:!0,show_icon:!0,type:"button",tap_action:{action:"perform-action",perform_action:"button.press",target:{entity_id:"button.liang_yi_jia_chui_feng"},data:{}},entity:"button.liang_yi_jia_chui_feng"}]},{type:"grid",cards:[{type:"heading",heading:"新建部件"},{type:"custom:mushroom-entity-card",entity:"button.liang_yi_jia_chui_feng",fill_container:!1,tap_action:{action:"perform-action",perform_action:"button.press",target:{entity_id:"button.liang_yi_jia_chui_feng"}}},{type:"thermostat",entity:"climate.kong_diao"}]}]},{type:"sections",max_columns:4,title:"5312",path:"5312",sections:[{type:"grid",cards:[{type:"heading",heading:"新建部件"}]}]}]},path:[0,2],cardIndex:1,saveConfig:t=>{console.log(t)}}},detail11:{dialogTag:"hui-dialog-edit-card",cardIndex:0,path:[0,0],lovelaceConfig:{views:[{type:"sections",sections:[{cards:[{type:"custom:mushroom-light-card"}],type:"grid"}]}]}}}),t.push({type:"vertical-stack",cards:e}),t}getSidebar(){return[{type:"custom:chuguan-docked-sidebar"}]}getSortAres(){return{type:"custom:mushroom-template-card",primary:(0,o.k)("setting.area_sort"),icon:"mdi:floor-plan",icon_color:"blue",tap_action:{action:"navigate",navigation_path:"area_sort",navigation_replace:!0},hold_action:{action:"none"},double_tap_action:{action:"none"}}}getSortDomain(){return{type:"custom:mushroom-template-card",primary:(0,o.k)("setting.domain_sort"),icon:"mdi:domain",icon_color:"blue",tap_action:{action:"navigate",navigation_path:"domain_sort",navigation_replace:!0},hold_action:{action:"none"},double_tap_action:{action:"none"}}}editBackground(){return{type:"custom:mushroom-template-card",primary:(0,o.k)("setting.domain_sort"),icon:"mdi:domain",icon_color:"blue",tap_action:{action:"fire-dom-event",detail:{event:"cg_edit_background"}},hold_action:{action:"none"},double_tap_action:{action:"none"}}}}},629:(t,e,i)=>{var r={"./AreaSortView":7407,"./AreaSortView.ts":7407,"./DomainSortView":210,"./DomainSortView.ts":210,"./SettingView":564,"./SettingView.ts":564};function o(t){return Promise.resolve().then((()=>{if(!i.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i(r[t])}))}o.keys=()=>Object.keys(r),o.id=629,t.exports=o},842:(t,e,i)=>{"use strict";i.d(e,{mN:()=>k,AH:()=>c,W3:()=>C,Ec:()=>E});const r=globalThis,o=r.ShadowRoot&&(void 0===r.ShadyCSS||r.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),s=new WeakMap;class a{constructor(t,e,i){if(this._$cssResult$=!0,i!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(o&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=s.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&s.set(e,t))}return t}toString(){return this.cssText}}const c=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,r)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[r+1]),t[0]);return new a(i,t,n)},l=(t,e)=>{if(o)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const i of e){const e=document.createElement("style"),o=r.litNonce;void 0!==o&&e.setAttribute("nonce",o),e.textContent=i.cssText,t.appendChild(e)}},d=o?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new a("string"==typeof t?t:t+"",void 0,n))(e)})(t):t,{is:u,defineProperty:h,getOwnPropertyDescriptor:f,getOwnPropertyNames:p,getOwnPropertySymbols:m,getPrototypeOf:g}=Object,v=globalThis,_=v.trustedTypes,y=_?_.emptyScript:"",w=v.reactiveElementPolyfillSupport,b=(t,e)=>t,C={toAttribute(t,e){switch(e){case Boolean:t=t?y:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},E=(t,e)=>!u(t,e),O={attribute:!0,type:String,converter:C,reflect:!1,useDefault:!1,hasChanged:E};Symbol.metadata??=Symbol("metadata"),v.litPropertyMetadata??=new WeakMap;class k extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=O){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,e);void 0!==r&&h(this.prototype,t,r)}}static getPropertyDescriptor(t,e,i){const{get:r,set:o}=f(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get:r,set(e){const n=r?.call(this);o?.call(this,e),this.requestUpdate(t,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??O}static _$Ei(){if(this.hasOwnProperty(b("elementProperties")))return;const t=g(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(b("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(b("properties"))){const t=this.properties,e=[...p(t),...m(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(d(t))}else void 0!==t&&e.push(d(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return l(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$ET(t,e){const i=this.constructor.elementProperties.get(t),r=this.constructor._$Eu(t,i);if(void 0!==r&&!0===i.reflect){const o=(void 0!==i.converter?.toAttribute?i.converter:C).toAttribute(e,i.type);this._$Em=t,null==o?this.removeAttribute(r):this.setAttribute(r,o),this._$Em=null}}_$AK(t,e){const i=this.constructor,r=i._$Eh.get(t);if(void 0!==r&&this._$Em!==r){const t=i.getPropertyOptions(r),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:C;this._$Em=r;const n=o.fromAttribute(e,t.type);this[r]=n??this._$Ej?.get(r)??n,this._$Em=null}}requestUpdate(t,e,i,r=!1,o){if(void 0!==t){const n=this.constructor;if(!1===r&&(o=this[t]),i??=n.getPropertyOptions(t),!((i.hasChanged??E)(o,e)||i.useDefault&&i.reflect&&o===this._$Ej?.get(t)&&!this.hasAttribute(n._$Eu(t,i))))return;this.C(t,e,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,e,{useDefault:i,reflect:r,wrapped:o},n){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,n??e??this[t]),!0!==o||void 0!==n)||(this._$AL.has(t)||(this.hasUpdated||i||(e=void 0),this._$AL.set(t,e)),!0===r&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t){const{wrapped:t}=i,r=this[e];!0!==t||this._$AL.has(e)||void 0===r||this.C(e,void 0,i,r)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EM()}catch(e){throw t=!1,this._$EM(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}k.elementStyles=[],k.shadowRootOptions={mode:"open"},k[b("elementProperties")]=new Map,k[b("finalized")]=new Map,w?.({ReactiveElement:k}),(v.reactiveElementVersions??=[]).push("2.1.2")},845:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-person-card",layout:"vertical",primary_info:"none",secondary_info:"none",icon_type:"entity-picture"}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}}const n=o},909:(t,e,i)=>{"use strict";const r=i(3908);t.exports=(t,e,i)=>{const o=new r(t,i),n=new r(e,i);return o.compare(n)||o.compareBuild(n)}},977:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>_});var r=i(5689);const o=t=>{return(e=t.entity_id).substring(0,e.indexOf("."));var e},n=async(t,e,i)=>{const r=t.entities?.[e.entity_id];if(r?.icon)return r.icon;const n=o(e);return s(t,n,e,i,r)},s=async(t,e,i,r,o)=>{const n=o?.platform,s=o?.translation_key,a=i?.attributes.device_class,c=r??i?.state;let l;if(s&&n){const i=await d(t,n);if(i){const t=i[e],r=t?.[s];l=u(c,r)}}if(!l&&i&&(l=p(i,c)),!l){const i=await m(t,e);if(i){const t=a&&i[a]||i._;l=u(c,t)}}return l},a={entity:{},entity_component:{},services:{domains:{}},triggers:{domains:{}},conditions:{domains:{}}},c=(t,e)=>t&&t.config.components.includes(e),l=async(t,e,i)=>t.callWS({type:"frontend/get_icons",category:e,integration:i}),d=async(t,e,i=!1)=>{if(!i&&e in a.entity)return a.entity[e];if(!c(t,e)||(t.connection.haVersion,0))return;const r=l(t,"entity",e).then((t=>t?.resources[e]));return a.entity[e]=r,a.entity[e]},u=(t,e)=>{if(e)return t&&e.state?.[t]?e.state[t]:void 0!==t&&e.range&&!isNaN(Number(t))?f(Number(t),e.range)??e.default:e.default},h=new WeakMap,f=(t,e)=>{let i=h.get(e);if(i||(i=Object.keys(e).map(Number).filter((t=>!isNaN(t))).sort(((t,e)=>t-e)),h.set(e,i)),0===i.length)return;if(t<i[0])return;let r=i[0];for(const e of i){if(!(t>=e))break;r=e}return e[r.toString()]},p=(t,e)=>{const i=o(t),r=e??t.state;switch(i){case"update":return((t,e)=>"on"===(e??t.state)?t.attributes.in_progress?"mdi:package-down":"mdi:package-up":"mdi:package")(t,r);case"device_tracker":return((t,e)=>{const i=e??t.state;return"router"===t?.attributes.source_type?"home"===i?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(t?.attributes.source_type)?"home"===i?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===i?"mdi:account-arrow-right":"mdi:account"})(t,r);case"sun":return"above_horizon"===r?"mdi:white-balance-sunny":"mdi:weather-night";case"input_datetime":if(!t.attributes.has_date)return"mdi:clock";if(!t.attributes.has_time)return"mdi:calendar"}},m=async(t,e,i=!1)=>(t.connection.haVersion,!i&&a.entity_component.resources&&a.entity_component.domains?.includes(e)?a.entity_component.resources.then((t=>t[e])):c(t,e)?(a.entity_component.domains=[...t.config.components],a.entity_component.resources=l(t,"entity_component").then((t=>t.resources)),a.entity_component.resources.then((t=>t[e]))):void 0);var g=i(4818);class v extends g.default{static getDefaultConfig(){return{type:"custom:mushroom-entity-card",icon:void 0,animate:!0}}constructor(t,e){super(t),this.configuration={...this.configuration,...v.getDefaultConfig(),...e}}static async createCard(t){const e=r.O.hassStates[t.entity_id],i=e?.attributes.device_class;if(null==i||"enum"==i)return new v(t,{icon:void 0}).getCard();const o={...t.device_id&&r.O.strategyOptions.card_options?.[t.device_id],...r.O.strategyOptions.card_options?.[t.entity_id],type:"custom:mini-graph-card",entities:[t.entity_id],icon:await n(r.O.config.hass,e,e?.state)};return new v(t,o).getCard()}}const _=v},1122:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>l});var r=i(4137),o=i(5689),n=i(3007),s=i(6964),a=i(2682),c=i(2737);const l=class{constructor(){this.baseConfiguration={icon:"mdi:view-dashboard",subview:!1},this.viewHeaderCardConfiguration={cards:[],type:""},o.O.initialized||(0,s.OG)(s.ZY,"Registry is not initialized!")}get domain(){return this.constructor.domain}domains(){return{}}async getView(){return{...this.baseConfiguration,type:"masonry",cards:await this.createCardConfigurations()}}isInThisDomain(t){const e=this.domain+".",i=t.entity_id??"";if(i.startsWith(e))return!0;const r=this.domains();for(const e of Object.keys(r)){const n=r[e];if("boolean"==typeof n&&n&&i.startsWith(e+"."))return!0;if(Array.isArray(n)&&i.startsWith(e+".")){const e=o.O.hassStates[t.entity_id].attributes.device_class;if(e&&n.includes(e))return!0}}return!1}showHeader(){return!1}async createCardConfigurations(){const t=[],e=new a.A(o.O.entities).where((t=>this.isInThisDomain(t))).where((t=>!t.entity_id.endsWith("_stateful_scene"))).toList();let i=0;for(const r of o.O.areas){const o=new a.A(e).whereAreaId(r.area_id).toList();if(o.length>0){const e=await this.createAreaCards(r,o,i);i+=1,e&&t.push(...e)}}return this.showHeader()&&this.viewHeaderCardConfiguration.cards.length&&t.length&&t.unshift(this.viewHeaderCardConfiguration),t}async _createAreaCards(t,e,i=!0){let n=[],s={area_id:[t.area_id]};const a=e;"undisclosed"===t.area_id&&(s={entity_id:a.map((t=>t.entity_id))});for(const t of a){const e=await this.createCard(t);n.push(e)}if(n.length){n=(0,c.P)(n,o.O.strategyOptions.domains[this.domain]?.stack_count??o.O.strategyOptions.domains._.stack_count);const e="headerCardConfiguration"in this.baseConfiguration?this.baseConfiguration.headerCardConfiguration:{};if(i){const i=new r.default(s,{title:t.name,...e}).createCard();n.unshift(i)}return[{type:"vertical-stack",cards:n}]}return null}async createAreaCards(t,e,i){if("undisclosed"===t.area_id&&e.length>10){const r=Math.floor(e.length/3);return[...await this._createAreaCards(t,e.slice(0,r),!0)??[],...await this._createAreaCards(t,e.slice(r,2*r),i>0)??[],...await this._createAreaCards(t,e.slice(2*r),i>0)??[]]}return await this._createAreaCards(t,e)}async createCard(t){const e=t.entity_id.split(".")[0],r=(0,n.p)(e+"Card");return new(0,(await i(2560)(`./${r}`)).default)(t,this.getCustomCardConfig(t)).getCard()}initializeViewConfig(t,e={},i){this.baseConfiguration={...this.baseConfiguration,...t,...e},this.baseConfiguration.headerCardConfiguration={...this.baseConfiguration.headerCardConfiguration,showControls:o.O.strategyOptions.domains[this.domain]?.showControls??o.O.strategyOptions.domains._.showControls},this.viewHeaderCardConfiguration=new r.default(this.getDomainTargets(),{...this.baseConfiguration.headerCardConfiguration,...i}).createCard()}getDomainTargets(){return{entity_id:o.O.entities.filter((t=>t.entity_id.startsWith(this.domain+"."))).map((t=>t.entity_id))}}getCustomCardConfig(t){const e=o.O.strategyOptions.card_options?.[t.entity_id];return e}}},1123:t=>{"use strict";const e=/^[0-9]+$/,i=(t,i)=>{if("number"==typeof t&&"number"==typeof i)return t===i?0:t<i?-1:1;const r=e.test(t),o=e.test(i);return r&&o&&(t=+t,i=+i),t===i?0:r&&!o?-1:o&&!r?1:t<i?-1:1};t.exports={compareIdentifiers:i,rcompareIdentifiers:(t,e)=>i(e,t)}},1151:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(977);class o extends r.default{static getDefaultConfig(){return{type:"tile"}}constructor(t,e){super(t),this.configuration.icon=void 0,this.configuration.line_color=void 0,this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}}const n=o},1216:(t,e,i)=>{var r={"./AbstractChip":[8222,792],"./AbstractChip.ts":[8222,792],"./ClimateChip":[7757,792],"./ClimateChip.ts":[7757,792],"./CoverChip":[1970,792],"./CoverChip.ts":[1970,792],"./FanChip":[1867,792],"./FanChip.ts":[1867,792],"./LightChip":[3122,792],"./LightChip.ts":[3122,792],"./SwitchChip":[9908,792],"./SwitchChip.ts":[9908,792],"./WeatherChip":[1778,792],"./WeatherChip.ts":[1778,792]};function o(t){if(!i.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],o=e[0];return i.e(e[1]).then((()=>i(o)))}o.keys=()=>Object.keys(r),o.id=1216,t.exports=o},1217:(t,e,i)=>{"use strict";i.r(e),i.d(e,{AreaView:()=>f});var r=i(5689),o=i(2700),n=i(2682),s=i(3007),a=i(4137),c=i(977),l=i(2737),d=i(6964),u=i(3472),h=i(7734);class f{constructor(t){this.area=t}getView(){const t=this.area;return{title:t.name,path:t.area_id,subview:!1,hidden:t.hidden??!1,order:t.order??1/0,strategy:{type:"custom:chuguan-strategy",options:{area:t}},background:(0,u.Y)(t.area_id)}}static getView(t,e){const i=new f(t).getView();return i.order=e,i}async getCards(){const t=r.O.getExposedNames("domain"),e=this.area,u=new n.A(r.O.entities).whereAreaId(e.area_id).whereNotDomain(o.hE).toList(),f=[...e.extra_cards??[]],p={area_id:[e.area_id]},m=t.filter(o.dQ).map((async t=>{const e=(0,s.p)(t+"Card"),o=new n.A(u).whereDomain(t).where((e=>!("switch"===t&&e.entity_id.endsWith("_stateful_scene")))).toList();if(!o.length)return null;const f=new a.default({entity_id:o.map((t=>t.entity_id))},{...r.O.strategyOptions.domains._,...r.O.strategyOptions.domains[t]}).createCard();try{const n=(await i(2560)(`./${e}`)).default;if("sensor"===t){let e=o.map((async t=>await c.default.createCard(t))),i=await Promise.all(e);return i.length?(i=(0,l.P)(i,r.O.strategyOptions.domains[t].stack_count??r.O.strategyOptions.domains._.stack_count),{type:"vertical-stack",cards:[f,...i]}):null}let s=o.map((e=>{const i={...e.device_id&&r.O.strategyOptions.card_options?.[e.device_id],...r.O.strategyOptions.card_options?.[e.entity_id]};return"weather"==t?h.default.createCard(e,i):new n(e,i).getCard()}));return s=(0,l.P)(s,r.O.strategyOptions.domains[t].stack_count??r.O.strategyOptions.domains._.stack_count),s.length?{type:"vertical-stack",cards:[f,...s]}:null}catch(e){return(0,d.OG)(d.nR,`Error creating card configurations for domain ${t}`,e),null}})),g=(await Promise.all(m)).filter(Boolean);if(f.push(...g),!r.O.strategyOptions.domains.default.hidden){const t=new n.A(u).not().where((t=>(0,o.dQ)(t.entity_id.split(".",1)[0]))).toList();if(t.length)try{const e=(await Promise.resolve().then(i.bind(i,4486))).default;let o=t.map((t=>new e(t,r.O.strategyOptions.card_options?.[t.entity_id]).getCard()));const n=new a.default(p,{...r.O.strategyOptions.domains._,...r.O.strategyOptions.domains.default}).createCard();o.length&&(o=(0,l.P)(o,r.O.strategyOptions.domains.default.stack_count??r.O.strategyOptions.domains._.stack_count),f.push({type:"vertical-stack",cards:[n,...o]}))}catch(t){(0,d.OG)(d.nR,"Error creating card configurations for domain `miscellaneous`",t)}}return console.log(f),f}}},1255:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>l});var r=i(2723),o=i(4137),n=i(5689),s=i(2453),a=i(1122);class c extends a.default{static getDefaultConfig(){return{title:(0,s.k)("camera.cameras"),path:"cameras",icon:"mdi:cctv",subview:!1,headerCardConfiguration:{showControls:!1}}}static getViewHeaderCardConfig(){return{title:(0,s.k)("camera.all_cameras"),subtitle:`${n.O.getCountTemplate(c.domain,"ne","off")} ${(0,s.k)("camera.cameras")} `+(0,s.k)("generic.busy")}}constructor(t){super(),this.initializeViewConfig(c.getDefaultConfig(),t,c.getViewHeaderCardConfig())}async createAreaCards(t,e,i){const n=e.map((t=>new r.default(t,this.getCustomCardConfig(t)).getCard()));if(n.length>0){const e=new o.default({},{title:t.name}).createCard();n.unshift(e)}return n}}c.domain="camera";const l=c},1261:(t,e,i)=>{"use strict";const r=i(3908),o=i(8311),n=i(5580);t.exports=(t,e)=>{t=new o(t,e);let i=new r("0.0.0");if(t.test(i))return i;if(i=new r("0.0.0-0"),t.test(i))return i;i=null;for(let e=0;e<t.set.length;++e){const o=t.set[e];let s=null;o.forEach((t=>{const e=new r(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":s&&!n(e,s)||(s=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!s||i&&!n(i,s)||(i=s)}return i&&t.test(i)?i:null}},1729:(t,e,i)=>{"use strict";const r=i(144);t.exports=(t,e)=>{const i=r(t,e);return i&&i.prerelease.length?i.prerelease:null}},1763:(t,e,i)=>{"use strict";const r=i(560);t.exports=(t,e)=>r(t,e,!0)},1778:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(8222);class o extends r.default{static getDefaultConfig(t){return{type:"weather",entity:t,show_temperature:!0,show_conditions:!0}}constructor(t,e){super(),this.configuration={...this.configuration,...o.getDefaultConfig(t),...e}}}const n=o},1810:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(7212);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-select-card",icon:void 0}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}}const n=o},1832:(t,e,i)=>{"use strict";const r=i(144);t.exports=(t,e)=>{const i=r(t,null,!0),o=r(e,null,!0),n=i.compare(o);if(0===n)return null;const s=n>0,a=s?i:o,c=s?o:i,l=!!a.prerelease.length;if(c.prerelease.length&&!l){if(!c.patch&&!c.minor)return"major";if(0===c.compareMain(a))return c.minor&&!c.patch?"minor":"patch"}const d=l?"pre":"";return i.major!==o.major?d+"major":i.minor!==o.minor?d+"minor":i.patch!==o.patch?d+"patch":"prerelease"}},1867:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(8222),n=i(2682);class s extends o.default{static getDefaultConfig(){return{type:"template",icon:"mdi:fan",icon_color:"green",content:r.O.getCountTemplate("fan","eq","on"),tap_action:{action:"perform-action",perform_action:"fan.turn_off",target:{entity_id:new n.A(r.O.entities).whereDomain("fan").getValuesByProperty("entity_id")}},hold_action:{action:"navigate",navigation_path:"climates"}}}constructor(t){super(),this.configuration={...this.configuration,...s.getDefaultConfig(),...t}}}const a=s},1970:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(5689),o=i(8222);class n extends o.default{static getDefaultConfig(){return{type:"template",icon:"mdi:curtains",icon_color:"cyan",content:r.O.getCountTemplate("cover","search","(open|opening|closing)"),tap_action:{action:"none"},hold_action:{action:"navigate",navigation_path:"climates"}}}constructor(t){super(),this.configuration={...this.configuration,...n.getDefaultConfig(),...t}}}const s=n},2111:(t,e,i)=>{"use strict";const r=i(4641),o=i(3999),n=i(5580),s=i(4089),a=i(7059),c=i(5200);t.exports=(t,e,i,l)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof i&&(i=i.version),t===i;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof i&&(i=i.version),t!==i;case"":case"=":case"==":return r(t,i,l);case"!=":return o(t,i,l);case">":return n(t,i,l);case">=":return s(t,i,l);case"<":return a(t,i,l);case"<=":return c(t,i,l);default:throw new TypeError(`Invalid operator: ${e}`)}}},2137:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-number-card",icon:void 0,layout:"horizontal"}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}}const n=o},2367:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ChuguanClockCardAnalog:()=>c});var r=i(2618),o=i(4791),n=i(3720),s=i(8816),a=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s};let c=class extends r.WF{constructor(){super(...arguments),this._handleVisibilityChange=()=>{document.hidden||this._computeOffsets()}}_initDate(){if(!this.config||!this.hass)return;let t=this.hass.locale;this.config.time_format&&(t={...t,time_format:this.config.time_format}),this._dateTimeFormat=new Intl.DateTimeFormat(this.hass.locale.language,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h12",timeZone:this.config.time_zone||(0,s.wj)(t.time_zone,this.hass.config?.time_zone)}),this._computeOffsets()}updated(t){if(t.has("hass")){const e=t.get("hass");e&&e.locale===this.hass?.locale||this._initDate()}}connectedCallback(){super.connectedCallback(),document.addEventListener("visibilitychange",this._handleVisibilityChange),this._computeOffsets()}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("visibilitychange",this._handleVisibilityChange)}_computeOffsets(){if(!this._dateTimeFormat)return;const t=this._dateTimeFormat.formatToParts(),e=t.find((t=>"hour"===t.type))?.value,i=t.find((t=>"minute"===t.type))?.value,r=t.find((t=>"second"===t.type))?.value,o=e?parseInt(e,10):0,n=i?parseInt(i,10):0,s=(r?parseInt(r,10):0)+(new Date).getMilliseconds()/1e3,a=o%12;this._secondOffsetSec=s,this._minuteOffsetSec=60*n+s,this._hourOffsetSec=3600*a+60*n+s}render(){if(!this.config)return r.s6;const t=this.config.clock_size?`size-${this.config.clock_size}`:"",e=this.config?.face_style?.startsWith("numbers")??!1,i=this.config?.face_style?.startsWith("roman")??!1,o=this.config?.face_style?.endsWith("upright")??!1,s=t=>{return r.qy`
      <div
        class=${(0,n.H)({line:!0,numbers:e,roman:i})}
      >
        ${t&&"markers"!==this.config?.face_style?r.qy`<div
              class=${(0,n.H)({number:!0,[this.config?.clock_size??""]:!0,upright:o})}
            >
              ${i?(s=t,s<1||s>12?"":["","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"][s]):e?t:r.s6}
            </div>`:r.s6}
      </div>
    `;var s};return r.qy`
      <div
        class="analog-clock ${t}"
        role="img"
        aria-label="Analog clock"
      >
        <div
          class=${(0,n.H)({dial:!0,"dial-border":this.config.border??!1})}
        >
          ${"quarter"===this.config.ticks?Array.from({length:4},((t,e)=>e)).map((t=>r.qy`
                    <div
                      aria-hidden="true"
                      class="tick hour"
                      style=${`--tick-rotation: ${90*t}deg;`}
                    >
                      ${s([12,3,6,9][t])}
                    </div>
                  `)):this.config.ticks&&"hour"!==this.config.ticks?"minute"===this.config.ticks?Array.from({length:60},((t,e)=>e)).map((t=>r.qy`
                        <div
                          aria-hidden="true"
                          class="tick ${t%5==0?"hour":"minute"}"
                          style=${`--tick-rotation: ${6*t}deg;`}
                        >
                          ${t%5==0?s((t/5+11)%12+1):s()}
                        </div>
                      `)):r.s6:Array.from({length:12},((t,e)=>e)).map((t=>r.qy`
                      <div
                        aria-hidden="true"
                        class="tick hour"
                        style=${`--tick-rotation: ${30*t}deg;`}
                      >
                        ${s((t+11)%12+1)}
                      </div>
                    `))}
          <div class="center-dot"></div>
          <div
            class="hand hour"
            style=${`animation-delay: -${this._hourOffsetSec??0}s;`}
          ></div>
          <div
            class="hand minute"
            style=${`animation-delay: -${this._minuteOffsetSec??0}s;`}
          ></div>
          ${this.config.show_seconds?r.qy`<div
                class=${(0,n.H)({hand:!0,second:!0,step:"tick"===this.config.seconds_motion})}
                style=${`animation-delay: -${"tick"===this.config.seconds_motion?Math.floor(this._secondOffsetSec??0):this._secondOffsetSec??0}s;`}
              ></div>`:r.s6}
        </div>
      </div>
    `}};c.styles=r.AH`
    :host {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .analog-clock {
      --clock-size: 100px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: var(--clock-size);
      height: var(--clock-size);
      background: var(--ha-clock-card-analog-face-background, none);
      border-radius: var(--ha-clock-card-analog-face-border-radius, none);
      padding: var(--ha-clock-card-analog-face-padding, none);
    }

    .analog-clock.size-medium {
      --clock-size: 160px;
    }

    .analog-clock.size-large {
      --clock-size: 220px;
    }

    .dial {
      position: relative;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
    }

    .dial-border {
      border: 2px solid var(--divider-color);
      border-radius: 50%;
    }

    .tick {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform: rotate(var(--tick-rotation));
      pointer-events: none;
      z-index: 0;
    }

    .tick .line {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 1px;
      height: calc(var(--clock-size) * 0.04);
      background: var(--primary-text-color);
      opacity: 0.5;
      border-radius: 1px;
    }

    .tick.hour .line {
      width: 2px;
      height: calc(var(--clock-size) * 0.07);
      opacity: 0.8;
    }

    .tick.hour .line.numbers,
    .tick.hour .line.roman {
      height: calc(var(--clock-size) * 0.03);
    }

    .tick.minute .line.numbers,
    .tick.minute .line.roman {
      height: calc(var(--clock-size) * 0.015);
    }

    .tick .number {
      position: absolute;
      top: 0%;
      left: 50%;
      transform: translate(-50%, 35%);
      color: var(--primary-text-color);
      font-weight: 500;
      line-height: 1.2;
    }

    .tick .number.upright {
      transform: translate(-50%, 35%) rotate(calc(var(--tick-rotation) * -1));
    }

    .tick .number.small {
      font-size: v12px;
    }

    .tick .number.medium {
      font-size: 14px;
    }

    .tick .number.large {
      font-size: 16px;
    }

    .center-dot {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--primary-text-color);
      transform: translate(-50%, -50%);
      z-index: 3;
    }

    .hand {
      position: absolute;
      left: 50%;
      bottom: 50%;
      transform-origin: 50% 100%;
      transform: translate(-50%, 0) rotate(0deg);
      background: var(--primary-text-color);
      border-radius: 2px;
      will-change: transform;
      animation-name: ha-clock-rotate;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    .hand.hour {
      width: 4px;
      height: calc(var(--clock-size) * 0.25); /* 25% of the clock size */
      background: var(--primary-text-color);
      box-shadow: 0 0 8px 0 rgba(0, 0, 0, 0.2);
      z-index: 1;
      animation-duration: 43200s; /* 12 hours */
    }

    .hand.minute {
      width: 3px;
      height: calc(var(--clock-size) * 0.35); /* 35% of the clock size */
      background: var(--primary-text-color);
      box-shadow: 0 0 6px 0 rgba(0, 0, 0, 0.2);
      opacity: 0.9;
      z-index: 3;
      animation-duration: 3600s; /* 60 minutes */
    }

    .hand.second {
      width: 2px;
      height: calc(var(--clock-size) * 0.42); /* 42% of the clock size */
      background: #f3676c;
      box-shadow: 0 0 4px 0 rgba(0, 0, 0, 0.2);
      opacity: 0.8;
      z-index: 2;
      animation-duration: 60s; /* 60 seconds */
    }

    .hand.second.step {
      animation-timing-function: steps(60, end);
    }

    @keyframes ha-clock-rotate {
      from {
        transform: translate(-50%, 0) rotate(0deg);
      }
      to {
        transform: translate(-50%, 0) rotate(360deg);
      }
    }
  `,a([(0,o.MZ)({attribute:!1})],c.prototype,"hass",void 0),a([(0,o.MZ)({attribute:!1})],c.prototype,"config",void 0),a([(0,o.wk)()],c.prototype,"_dateTimeFormat",void 0),a([(0,o.wk)()],c.prototype,"_hourOffsetSec",void 0),a([(0,o.wk)()],c.prototype,"_minuteOffsetSec",void 0),a([(0,o.wk)()],c.prototype,"_secondOffsetSec",void 0),c=a([(0,o.EM)("chuguan-clock-card-analog")],c)},2453:(t,e,i)=>{"use strict";i.d(e,{A:()=>C,k:()=>E});const r=JSON.parse('{"camera":{"all_cameras":"Alle Kameras","cameras":"Kameras"},"climate":{"all_climates":"Alle Klimaanlagen","climates":"Klimaanlagen"},"cover":{"all_covers":"Alle Abdeckungen","covers":"Abdeckungen"},"fan":{"all_fans":"Alle Ventilatoren","fans":"Ventilatoren"},"generic":{"all":"Alle","areas":"Bereiche","busy":"Beschäftigt","good_afternoon":"Guten Nachmittag","good_evening":"Guten Abend","good_morning":"Guten Morgen","hello":"Hallo","home":"Start","miscellaneous":"Sonstiges","numbers":"Zahlen","off":"Aus","on":"Ein","open":"Offen","unavailable":"Nicht verfügbar","unclosed":"Nicht Geschlossen","undisclosed":"Sonstiges","unknown":"Unbekannt"},"input_select":{"input_selects":"Auswahl-Eingaben"},"light":{"all_lights":"Alle Leuchten","lights":"Leuchten"},"lock":{"locked":"Gesperrt","all_locks":"Alle Schlösser","locks":"Schlösser","unlocked":"Entsperrt"},"media_player":{"media_players":"Wiedergabegeräte"},"scene":{"scenes":"Szenen"},"select":{"selects":"Auswahlen"},"sensor":{"binary":"Binäre","sensors":"Sensoren"},"switch":{"all_switches":"Alle Schalter","chip_confirmation":"Warnung: Diese Aktion wird alle Schalter ausschalten. Sind Sie sicher, dass Sie fortfahren möchten?","switches":"Schalter"},"vacuum":{"all_vacuums":"Alle Staubsauger","vacuums":"Staubsauger"},"valve":{"all_valves":"Alle Ventile","valves":"Ventile","open":"Offen","opening":"Öffnet","closed":"Geschlossen","closing":"Schließt","stopped":"Gestoppt","unclosed":"Nicht geschlossen"}}');var o=i.t(r,2);const n=JSON.parse('{"camera":{"all_cameras":"All Cameras","cameras":"Cameras"},"climate":{"all_climates":"All Climates","climates":"Climates"},"cover":{"all_covers":"All Covers","covers":"Covers"},"fan":{"all_fans":"All Fans","fans":"Fans"},"generic":{"all":"All","areas":"Areas","busy":"Busy","good_afternoon":"Good afternoon","good_evening":"Good evening","good_morning":"Good morning","hello":"Hello","home":"Home","miscellaneous":"Miscellaneous","numbers":"Numbers","off":"Off","on":"On","open":"Open","unavailable":"Unavailable","unclosed":"Unclosed","undisclosed":"Other","unknown":"Unknown"},"input_select":{"input_selects":"Input Selects"},"light":{"all_lights":"All Lights","lights":"Lights"},"lock":{"all_locks":"All Locks","locked":"Locked","locks":"Locks","unlocked":"Unlocked"},"media_player":{"media_players":"Media Players"},"scene":{"scenes":"Scenes"},"select":{"selects":"Selects"},"sensor":{"binary":"Binary","sensors":"Sensors"},"switch":{"all_switches":"All Switches","chip_confirmation":"Warning: This action will turn off all switches. Are you sure you want to continue?","switches":"Switches"},"vacuum":{"all_vacuums":"All Vacuums","vacuums":"Vacuums"},"valve":{"all_valves":"All Valves","valves":"Valves","open":"Open","opening":"Opening","closed":"Closed","closing":"Closing","stopped":"Stopped","unclosed":"Unclosed"},"button":{"all_buttons":"All Buttons","buttons":"Buttons"},"event":{"hide_sidebar":"Hide Sidebar","show_sidebar":"Show Sidebar"},"setting":{"title":"Setting","area_sort":"Area Sort","save":"Save","domain_sort":"Domain Sort"},"alarm_control_panel":{"title":"Security"},"security":{"title":"Security"},"humidifier":{"all_humidifiers":"All Humidifiers","humidifiers":"Humidifiers"},"siren":{"all_sirens":"All Sirens","sirens":"Sirens"},"text":{"all_texts":"All Texts","texts":"Texts"},"todo":{"todos":"Todos"},"water_heater":{"water_heaters":"Water Heaters"},"weather":{"weather":"Weather"}}');var s=i.t(n,2);const a=JSON.parse('{"camera":{"all_cameras":"Todas las Cámaras","cameras":"Cámaras"},"climate":{"all_climates":"Todos los Termostatos","climates":"Termostatos"},"cover":{"all_covers":"Todas las Cubiertas","covers":"Cubiertas"},"fan":{"all_fans":"Todos los Ventiladores","fans":"Ventiladores"},"generic":{"all":"Todo","areas":"Áreas","busy":"Ocupado","good_afternoon":"Buenas tardes","good_evening":"Buenas noches","good_morning":"Buenos días","hello":"Hola","home":"Inicio","miscellaneous":"Varios","numbers":"Números","off":"Apagado","on":"Encendido","open":"Abierto","unavailable":"No Disponible","unclosed":"Sin Cerrar","undisclosed":"Varios","unknown":"Desconocido"},"input_select":{"input_selects":"Selecciones de Entrada"},"light":{"all_lights":"Todas las Luces","lights":"Luces"},"lock":{"all_locks":"Todas las Candados","locked":"Locked","locks":"Candados","unlocked":"Desbloqueado"},"media_player":{"media_players":"Reproductores Multimedia"},"scene":{"scenes":"Scenas"},"select":{"selects":"Seleccionar"},"sensor":{"binary":"Binario","sensors":"Sensores"},"switch":{"all_switches":"Todos los Apagadores","chip_confirmation":"Advertencia: Esta acción apagará todos los interruptores. ¿Está seguro de que desea continuar?","switches":"Apagadores"},"vacuum":{"all_vacuums":"Todas las Aspiradoras","vacuums":"Aspiradoras"},"valve":{"all_valves":"Todas las válvulas","valves":"Válvulas","open":"Abierta","opening":"Abriendo","closed":"Cerrada","closing":"Cerrando","stopped":"Detenida","unclosed":"No Cerrada"}}');var c=i.t(a,2);const l=JSON.parse('{"camera":{"all_cameras":"Alle Cameras","cameras":"Cameras"},"climate":{"all_climates":"Alle Klimaatregelingen","climates":"Klimaatregelingen"},"cover":{"all_covers":"Alle Bedekkingen","covers":"Bedekkingen"},"fan":{"all_fans":"Alle Ventilatoren","fans":"Ventilatoren"},"generic":{"all":"Alle","areas":"Ruimtes","busy":"Bezig","good_afternoon":"Goedemiddag","good_evening":"Goedeavond","good_morning":"Goedemorgen","hello":"Hallo","home":"Start","miscellaneous":"Overige","numbers":"Nummers","off":"Uit","on":"Aan","open":"Open","unavailable":"Onbeschikbaar","unclosed":"Niet Gesloten","undisclosed":"Overige","unknown":"Onbekend"},"input_select":{"input_selects":"Lijsten"},"light":{"all_lights":"Alle Lampen","lights":"Lampen"},"lock":{"all_locks":"Alle Sloten","locked":"Vergrendeld","locks":"Sloten","unlocked":"Ontgrendeld"},"media_player":{"media_players":"Mediaspelers"},"scene":{"scenes":"Scenes"},"select":{"selects":"Statuslijsten"},"sensor":{"binary":"Binaire","sensors":"Sensoren"},"switch":{"all_switches":"Alle Schakelaars","chip_confirmation":"Waarschuwing: Deze actie zal alle schakelaars uitzetten. Weet u zeker dat u door wilt gaan?","switches":"Schakelaars"},"vacuum":{"all_vacuums":"Alle Afzuiging","vacuums":"Afzuiging"},"valve":{"all_valves":"Alle kleppen","valves":"Kleppen","open":"Open","opening":"Openen","closed":"Gesloten","closing":"Sluiten","stopped":"Gestopt","unclosed":"Niet gesloten"}}');var d=i.t(l,2);const u=JSON.parse('{"camera":{"all_cameras":"Todas as câmeras","cameras":"Câmeras"},"climate":{"all_climates":"Todos os climatizadores","climates":"Climatizadores"},"cover":{"all_covers":"Todas as persianas","covers":"Persianas"},"fan":{"all_fans":"Todos os ventiladores","fans":"Ventiladores"},"generic":{"all":"Todos","areas":"Áreas","busy":"Ocupado","good_afternoon":"Boa tarde","good_evening":"Boa noite","good_morning":"Bom dia","hello":"Olá","home":"Início","miscellaneous":"Variados","numbers":"Números","off":"Desligado","on":"Ligado","open":"Aberto","unavailable":"Indisponível","unclosed":"Não fechado","undisclosed":"Outro","unknown":"Desconhecido"},"input_select":{"input_selects":"Seleção de entrada"},"light":{"all_lights":"Todas as luzes","lights":"Luzes"},"lock":{"all_locks":"Todas as fechaduras","locked":"Travado","locks":"Fechaduras","unlocked":"Destravado"},"media_player":{"media_players":"Reprodutores de mídia"},"scene":{"scenes":"Cenas"},"select":{"selects":"Seleção"},"sensor":{"binary":"Binário","sensors":"Sensores"},"switch":{"all_switches":"Todos os interruptores","chip_confirmation":"Atenção: Essa ação irá desligar todos os interruptores. Tem certeza que deseja continuar?","switches":"Interruptores"},"vacuum":{"all_vacuums":"Todos os aspiradores","vacuums":"Aspiradores"},"valve":{"all_valves":"Todas as válvulas","valves":"Válvulas","open":"Aberto","opening":"Abrindo","closed":"Fechado","closing":"Fechando","stopped":"Parado","unclosed":"Nao fechado"}}');var h=i.t(u,2);const f=JSON.parse('{"camera":{"all_cameras":"所有摄像头","cameras":"摄像头"},"climate":{"all_climates":"所有温控","climates":"温控"},"cover":{"all_covers":"所有窗帘","covers":"窗帘"},"fan":{"all_fans":"所有风扇","fans":"风扇"},"generic":{"all":"所有","areas":"区域","busy":"工作","good_afternoon":"下午好","good_evening":"晚上好","good_morning":"早上好","hello":"你好","home":"家庭","miscellaneous":"杂项","numbers":"数字","off":"关闭","on":"开启","open":"打开","unavailable":"不可用","unclosed":"未关闭","undisclosed":"其他","unknown":"未知"},"input_select":{"input_selects":"输入选择器"},"light":{"all_lights":"所有灯","lights":"灯"},"lock":{"all_locks":"所有锁","locked":"已锁","locks":"锁","unlocked":"开锁"},"media_player":{"media_players":"媒体播放器"},"scene":{"scenes":"场景"},"select":{"selects":"选择器"},"sensor":{"binary":"二元传感器","sensors":"传感器"},"switch":{"all_switches":"所有开关","chip_confirmation":"警告：此操作将关闭所有开关。是否继续？","switches":"开关"},"vacuum":{"all_vacuums":"所有吸尘器","vacuums":"吸尘器"},"valve":{"all_valves":"所有阀门","valves":"阀门","open":"打开","opening":"打开中","closed":"关闭","closing":"关闭中","stopped":"已停止","unclosed":"未关闭"},"button":{"all_buttons":"所有按钮","buttons":"按钮"},"event":{"hide_sidebar":"隐藏侧边栏","show_sidebar":"显示侧边栏"},"setting":{"title":"设置","area_sort":"区域排序","save":"保存","domain_sort":"类型排序"},"alarm_control_panel":{"title":"安全"},"security":{"title":"安全"},"humidifier":{"all_humidifiers":"所有加湿器","humidifiers":"加湿器"},"siren":{"all_sirens":"所有警报器","sirens":"警报器"},"text":{"all_texts":"所有文本","texts":"文本"},"todo":{"todos":"待办事项"},"water_heater":{"water_heaters":"热水器"},"weather":{"weather":"天气预报"}}');var p=i.t(f,2);const m=JSON.parse('{"camera":{"all_cameras":"所有攝像頭","cameras":"攝像頭"},"climate":{"all_climates":"所有溫控","climates":"溫控"},"cover":{"all_covers":"所有窗簾","covers":"窗簾"},"fan":{"all_fans":"所有風扇","fans":"風扇"},"generic":{"all":"所有","areas":"區域","busy":"工作","good_afternoon":"下午好","good_evening":"晚上好","good_morning":"早上好","hello":"你好","home":"家庭","miscellaneous":"雜項","numbers":"數字","off":"關閉","on":"開啓","open":"打開","unavailable":"不可用","unclosed":"未關閉","undisclosed":"其他","unknown":"未知"},"input_select":{"input_selects":"輸入選擇器"},"light":{"all_lights":"所有燈","lights":"燈"},"lock":{"all_locks":"所有鎖","locked":"已鎖","locks":"鎖","unlocked":"開鎖"},"media_player":{"media_players":"媒體播放器"},"scene":{"scenes":"場景"},"select":{"selects":"選擇器"},"sensor":{"binary":"二元傳感器","sensors":"傳感器"},"switch":{"all_switches":"所有開關","chip_confirmation":"警告：此操作將關閉所有開關。是否繼續？","switches":"開關"},"vacuum":{"all_vacuums":"所有吸塵器","vacuums":"吸塵器"},"valve":{"all_valves":"所有閥門","valves":"閥門","open":"打開","opening":"打開中","closed":"關閉","closing":"關閉中","stopped":"已停止","unclosed":"未關閉"},"button":{"all_buttons":"所有按鈕","buttons":"按鈕"},"event":{"hide_sidebar":"隱藏側邊欄","show_sidebar":"顯示側邊欄"},"setting":{"title":"設置","area_sort":"區域排序","save":"保存","domain_sort":"類型排序"},"alarm_control_panel":{"title":"安全"},"security":{"title":"安全"},"humidifier":{"all_humidifiers":"所有加濕器","humidifiers":"加濕器"},"siren":{"all_sirens":"所有警報器","sirens":"警報器"},"text":{"all_texts":"所有文本","texts":"文本"},"todo":{"todos":"待辦事項"},"water_heater":{"water_heaters":"熱水器"},"weather":{"weather":"天氣預報"}}');var g=i.t(m,2),v=i(6964);const _={de:o,en:s,es:c,nl:d,"pt-BR":h,"zh-Hans":p,"zh-Hant":g},y="en";function w(t,e){try{return t.split(".").reduce(((t,e)=>t[e]),_[e])}catch{return}}let b;function C(t){const e=t?.locale.language??y;b=t=>w(t,e)??w(t,y)??t}function E(t){return b?b(t):((0,v.OG)(v.br,"localize is not initialized! Call setupCustomLocalize first."),t)}},2464:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2453),n=i(1122);class s extends n.default{static getDefaultConfig(){return{title:(0,o.k)("switch.switches"),path:"switches",icon:"mdi:dip-switch",subview:!1,headerCardConfiguration:{iconOn:"mdi:power-plug",iconOff:"mdi:power-plug-off",onService:"switch.turn_on",offService:"switch.turn_off"}}}static getViewHeaderCardConfig(){return{title:(0,o.k)("switch.all_switches"),subtitle:`${r.O.getCountTemplate(s.domain,"eq","on")} ${(0,o.k)("switch.switches")} `+(0,o.k)("generic.on")}}constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}}s.domain="switch";const a=s},2516:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var r=i(3560);class o extends r.default{}},2525:(t,e,i)=>{"use strict";const r=i(7638),o=i(560);t.exports=(t,e,i)=>{const n=[];let s=null,a=null;const c=t.sort(((t,e)=>o(t,e,i)));for(const t of c)r(t,e,i)?(a=t,s||(s=t)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);const l=[];for(const[t,e]of n)t===e?l.push(t):e||t!==c[0]?e?t===c[0]?l.push(`<=${e}`):l.push(`${t} - ${e}`):l.push(`>=${t}`):l.push("*");const d=l.join(" || "),u="string"==typeof e.raw?e.raw:String(e);return d.length<u.length?d:e}},2560:(t,e,i)=>{var r={"./AbstractCard":[4818],"./AbstractCard.ts":[4818],"./AlarmControlPanelCard":[6838,792],"./AlarmControlPanelCard.ts":[6838,792],"./AreaCard":[4301,792],"./AreaCard.ts":[4301,792],"./BinarySensorCard":[1151,792],"./BinarySensorCard.ts":[1151,792],"./ButtonCard":[7348,792],"./ButtonCard.ts":[7348,792],"./CalendarCard":[5546,792],"./CalendarCard.ts":[5546,792],"./CameraCard":[2723,792],"./CameraCard.ts":[2723,792],"./ClimateCard":[8721,792],"./ClimateCard.ts":[8721,792],"./ClockCard":[6440,792],"./ClockCard.ts":[6440,792],"./CoverCard":[8033,792],"./CoverCard.ts":[8033,792],"./FanCard":[2667,792],"./FanCard.ts":[2667,792],"./HaAreaCard":[9042,792],"./HaAreaCard.ts":[9042,792],"./HeaderCard":[4137],"./HeaderCard.ts":[4137],"./HumidifierCard":[9608,792],"./HumidifierCard.ts":[9608,792],"./InputSelectCard":[1810,792],"./InputSelectCard.ts":[1810,792],"./LightCard":[8254,792],"./LightCard.ts":[8254,792],"./LockCard":[6555,792],"./LockCard.ts":[6555,792],"./MediaPlayerCard":[9879,792],"./MediaPlayerCard.ts":[9879,792],"./MiscellaneousCard":[4486,792],"./MiscellaneousCard.ts":[4486,792],"./NumberCard":[2137,792],"./NumberCard.ts":[2137,792],"./PersonCard":[845,792],"./PersonCard.ts":[845,792],"./SceneCard":[2858,792],"./SceneCard.ts":[2858,792],"./SelectCard":[7212,792],"./SelectCard.ts":[7212,792],"./SensorCard":[977],"./SensorCard.ts":[977],"./SirenCard":[8411,792],"./SirenCard.ts":[8411,792],"./SwitchCard":[3708,792],"./SwitchCard.ts":[3708,792],"./TextCard":[5555,792],"./TextCard.ts":[5555,792],"./TileCard":[3560,792],"./TileCard.ts":[3560,792],"./TodoCard":[5404,792],"./TodoCard.ts":[5404,792],"./UpdateCard":[8425,792],"./UpdateCard.ts":[8425,792],"./VacuumCard":[7430,792],"./VacuumCard.ts":[7430,792],"./ValveCard":[8868,792],"./ValveCard.ts":[8868,792],"./WaterHeaterCard":[2516,792],"./WaterHeaterCard.ts":[2516,792],"./WeatherCard":[7734],"./WeatherCard.ts":[7734]};function o(t){if(!i.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],o=e[0];return Promise.all(e.slice(1).map(i.e)).then((()=>i(o)))}o.keys=()=>Object.keys(r),o.id=2560,t.exports=o},2618:(t,e,i)=>{"use strict";i.d(e,{WF:()=>s,AH:()=>r.AH,qy:()=>o.qy,s6:()=>o.s6});var r=i(842),o=i(6752);const n=globalThis;class s extends r.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=(0,o.XX)(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return o.c0}}s._$litElement$=!0,s.finalized=!0,n.litElementHydrateSupport?.({LitElement:s});const a=n.litElementPolyfillSupport;a?.({LitElement:s}),(n.litElementVersions??=[]).push("4.2.2")},2667:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-fan-card",icon:void 0,layout:"horizontal",show_percentage_control:!0,show_oscillate_control:!0,icon_animation:!0}}constructor(t,e){super(t),this.has_percentage=!1,this.has_oscillate=!1,this.has_direction=!1,this.setupFeatures(t),this.configuration={...this.configuration,...o.getDefaultConfig(),show_percentage_control:this.has_percentage,show_oscillate_control:this.has_oscillate,show_direction_control:this.has_direction,...e}}is_card_active(t){return this.is_generic_card_active(t)}setupFeaturesSupported(t,e){this.has_percentage=!!(1&e),this.has_oscillate=!!(2&e),this.has_direction=!!(4&e)}}const n=o},2682:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});var r=i(5689),o=i(6964);class n{constructor(t){this.filters=[],this.invertNext=!1,this.entries=t,this.entryIdentifier=0===t.length||"entity_id"in t[0]?"entity_id":"floor_id"in t[0]?"area_id":"id"}not(){return this.invertNext=!this.invertNext,this}resetFilters(){return this.filters=[],this.invertNext=!1,this}where(t){return this.filters.push(this.checkInversion(t)),this}whereAreaId(t,e=!0){return this.filters.push(this.checkInversion((i=>{let o;const n=i;return e&&n.device_id&&(o=r.O.devices.find((t=>t.id===n.device_id))?.area_id),t?"undisclosed"===t?i.area_id===t&&(o===t||null==o):i.area_id===t||"undisclosed"===i.area_id&&o===t:i.area_id===t&&o===t}))),this}whereNameContains(t){const e=t.toLowerCase();return this.filters.push(this.checkInversion((t=>{const i=t;return[i.name,i.original_name,i.name_by_user].filter((t=>"string"==typeof t)).some((t=>t.toLowerCase().includes(e)))}))),this}whereDomain(t){const e=t+".";return this.filters.push(this.checkInversion((t=>"entity_id"in t&&t.entity_id.startsWith(e)))),this}whereNotDomain(t){return this.filters.push(this.checkInversion((e=>{const i=e,r=i.entity_id?.split(".")[0];return!t.includes(r??"")}))),this}whereFloorId(t){return this.filters.push(this.checkInversion((e=>{const i="floor_id"in e;return void 0===t?!i:i&&e.floor_id===t}))),this}whereDeviceId(t){return this.filters.push(this.checkInversion((e=>{const i="id"in e,r="device_id"in e;return void 0===t?!i&&!r:i&&e.id===t||r&&e.device_id===t}))),this}whereEntityId(t){return this.filters.push(this.checkInversion((e=>void 0===t?!("entity_id"in e):"entity_id"in e&&e.entity_id===t))),this}whereDisabledBy(t){return this.filters.push(this.checkInversion((e=>{const i="disabled_by"in e;return void 0===t?!i:i&&e.disabled_by===t}))),this}whereHiddenBy(t){return this.filters.push(this.checkInversion((e=>{const i="hidden_by"in e;return void 0===t?!i:i&&e.hidden_by===t}))),this}isNotHidden(t=!0){return this.filters.push(this.checkInversion((e=>{const i="hidden_by"in e&&e.hidden_by;if(!t)return!i;const o=e[this.entryIdentifier],n="area_id"===this.entryIdentifier?{...r.O.strategyOptions.areas._,...r.O.strategyOptions.areas[o]}:r.O.strategyOptions.card_options?.[o];return!(i||!0===n?.hidden)}))),this}whereEntityCategory(t){const e=this.invertNext;return this.invertNext=!1,this.filters.push((i=>{const o="entity_category"in i?i.entity_category:void 0,n="string"==typeof o?r.O.strategyOptions?.domains?._?.[`hide_${o}_entities`]:void 0;return!0!==n&&(!1===n&&o===t||(e?o!==t:o===t))})),this}orderBy(t,e="asc"){const i=(t,e)=>{for(const i of e){const e=t[i];if(null!=e)return e}},r=t=>{switch(t){case-1/0:return[0,0];case void 0:case null:return[2,0];case 1/0:return[3,0];default:return[1,t]}},o=[...this.entries].sort(((o,n)=>{const s=i(o,t),a=i(n,t);if(s===a)return 0;const[c,l]=r(s),[d,u]=r(a);return c!==d?(c-d)*("asc"===e?1:-1):null==l?1:null==u?-1:"string"==typeof l&&"string"==typeof u?l.localeCompare(u)*("asc"===e?1:-1):(l<u?-1:1)*("asc"===e?1:-1)})),s=new n(o);return s.filters=[...this.filters],s}take(t){const e=Math.max(0,t);return this.filters.push(((t,i)=>i<e)),this}skip(t){const e=Math.max(0,t);return this.filters.push(((t,i)=>i>=e)),this}toList(){const t=new n(this.entries);return t.filters=[...this.filters],t.entries.filter(((e,i)=>t.filters.every((t=>t(e,i)))))}getValuesByProperty(t){return this.toList().map((e=>e[t])).filter((t=>void 0!==t))}first(){const t=new n(this.entries);return t.filters=[...this.filters],t.entries.find(((e,i)=>t.filters.every((t=>t(e,i)))))}single(){const t=new n(this.entries);t.filters=[...this.filters];const e=t.entries.filter(((e,i)=>t.filters.every((t=>t(e,i)))));if(1===e.length)return e[0];(0,o.OG)(o.br,`Expected a single element, but found ${e.length}.`)}count(){const t=new n(this.entries);return t.filters=[...this.filters],t.entries.filter(((e,i)=>t.filters.every((t=>t(e,i))))).length}checkInversion(t){return this.invertNext?(this.invertNext=!1,e=>!t(e)):t}}const s=n},2700:(t,e,i)=>{"use strict";i.d(e,{dQ:()=>u,eq:()=>c,hE:()=>s,ln:()=>h,uS:()=>d,vv:()=>a});const r=["_","alarm_control_panel","binary_sensor","button","camera","climate","cover","default","fan","humidifier","input_select","light","lock","media_player","number","scene","security","select","sensor","siren","switch","text","todo","vacuum","valve","water_heater","weather"],o=["button","camera","climate","cover","fan","home","light","lock","scene","security","sensor","switch","vacuum","valve"],n=["light","fan","cover","switch","climate","weather"],s=["calendar"];function a(t){return t&&("order"in t||"title"in t||"name"in t)}function c(t){return!!t&&("perform-action"===t.action||"call-service"===t.action)&&"perform_action"in t}function l(t,e){return e.includes(t)}function d(t){return l(t,o)}function u(t){return l(t,r)}function h(t){return l(t,n)}},2707:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ChuguanClockCardDigital:()=>a});var r=i(2618),o=i(4791),n=i(8816),s=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s};let a=class extends r.WF{_initDate(){if(!this.config||!this.hass)return;let t=this.hass?.locale;this.config?.time_format&&(t={...t,time_format:this.config.time_format});const e=(0,n.J_)(t);this._dateTimeFormat=new Intl.DateTimeFormat(this.hass.locale.language,{hour:e?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:e?"h12":"h23",timeZone:this.config?.time_zone||(0,n.wj)(t.time_zone,this.hass.config?.time_zone)}),this._tick()}updated(t){if(t.has("hass")){const e=t.get("hass");e&&e.locale===this.hass?.locale||this._initDate()}}connectedCallback(){super.connectedCallback(),this._startTick()}disconnectedCallback(){super.disconnectedCallback(),this._stopTick()}_startTick(){this._tickInterval=window.setInterval((()=>this._tick()),1e3),this._tick()}_stopTick(){this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=void 0)}_tick(){if(!this._dateTimeFormat)return;const t=this._dateTimeFormat.formatToParts();this._timeHour=t.find((t=>"hour"===t.type))?.value,this._timeMinute=t.find((t=>"minute"===t.type))?.value,this._timeSecond=this.config?.show_seconds?t.find((t=>"second"===t.type))?.value:void 0,this._timeAmPm=t.find((t=>"dayPeriod"===t.type))?.value}render(){if(!this.config)return r.s6;const t=this.config.clock_size?`size-${this.config.clock_size}`:"";return r.qy`
      <div class="time-parts ${t}">
        <div class="time-part hour">${this._timeHour}</div>
        <div class="time-part minute">${this._timeMinute}</div>
        ${void 0!==this._timeSecond?r.qy`<div class="time-part second">${this._timeSecond}</div>`:r.s6}
        ${void 0!==this._timeAmPm?r.qy`<div class="time-part am-pm">${this._timeAmPm}</div>`:r.s6}
      </div>
    `}};a.styles=r.AH`
    :host {
      display: block;
    }

    .time-parts {
      align-items: center;
      display: grid;
      grid-template-areas:
        "hour minute second"
        "hour minute am-pm";

      font-size: 1.5rem;
      font-weight: 500;
      line-height: 0.8;
      direction: ltr;
    }

    .time-title + .time-parts {
      font-size: 1.5rem;
    }

    .time-parts.size-medium {
      font-size: 3rem;
    }

    .time-parts.size-large {
      font-size: 4rem;
    }

    .time-parts.size-medium .time-part.second,
    .time-parts.size-medium .time-part.am-pm {
      font-size: 16px;
      margin-left: 6px;
    }

    .time-parts.size-large .time-part.second,
    .time-parts.size-large .time-part.am-pm {
      font-size: 24px;
      margin-left: 8px;
    }

    .time-parts .time-part.hour {
      grid-area: hour;
    }

    .time-parts .time-part.minute {
      grid-area: minute;
    }

    .time-parts .time-part.second {
      grid-area: second;
      line-height: 0.9;
      opacity: 0.4;
    }

    .time-parts .time-part.am-pm {
      grid-area: am-pm;
      line-height: 0.9;
      opacity: 0.6;
    }

    .time-parts .time-part.second,
    .time-parts .time-part.am-pm {
      font-size: 10px;
      margin-left: 4px;
    }

    .time-parts .time-part.hour:after {
      content: ":";
      margin: 0 2px;
    }
  `,s([(0,o.MZ)({attribute:!1})],a.prototype,"hass",void 0),s([(0,o.MZ)({attribute:!1})],a.prototype,"config",void 0),s([(0,o.wk)()],a.prototype,"_dateTimeFormat",void 0),s([(0,o.wk)()],a.prototype,"_timeHour",void 0),s([(0,o.wk)()],a.prototype,"_timeMinute",void 0),s([(0,o.wk)()],a.prototype,"_timeSecond",void 0),s([(0,o.wk)()],a.prototype,"_timeAmPm",void 0),a=s([(0,o.EM)("chuguan-clock-card-digital")],a)},2723:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{entity:"",type:"picture-entity",show_name:!0,show_state:!0,camera_view:"auto"}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}}const n=o},2737:(t,e,i)=>{"use strict";function r(t,e=2,i){if(t.length<=1)return t;const r=(t,e)=>{if(t.length<=1)return t;const i=[];for(let r=0;r<t.length;){const o=[];let n=0,s=0;for(let i=r;i<t.length;i++){const r=t[i],a=r.stack_count||1;if(n+a>e)break;n+=a,o.push(r),s++}r+=s,i.push({type:"horizontal-stack",cards:o})}return i},o=[];for(let n=0;n<t.length;){const s=t[n].type,a=[];for(;n<t.length&&t[n].type===s;)a.push(t[n]),n++;const c=Math.max(i?.[s]||e,1);o.push(...r(a,c))}return o}i.d(e,{P:()=>r})},2858:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>c});var r=i(5689),o=i(4818),n=i(3708),s=i(2700);class a extends o.default{static getDefaultConfig(){return{type:"custom:mushroom-entity-card",tap_action:{action:"perform-action",perform_action:"scene.turn_on",target:{}}}}constructor(t,e){const i=t.entity_id.split(".").pop(),o=r.O.entities.find((t=>t.entity_id===`switch.${i}_stateful_scene`));if(super(o??t),o)return void(this.configuration=new n.default(o).getCard());const c=a.getDefaultConfig();(0,s.eq)(c.tap_action)&&(c.tap_action.target={entity_id:t.entity_id}),c.icon=r.O.hassStates[t.entity_id]?.attributes.icon??c.icon,this.configuration={...this.configuration,...c,...e}}}const c=a},2938:(t,e,i)=>{"use strict";const r=i(3908);t.exports=(t,e)=>new r(t,e).major},3007:(t,e,i)=>{"use strict";function r(t){return t.replace(/^([a-z])|([-_][a-z])/g,(t=>t.toUpperCase().replace(/[-_]/g,"")))}function o(t){if("function"==typeof structuredClone)try{return structuredClone(t)}catch{}try{return JSON.parse(JSON.stringify(t))}catch{return t}}i.d(e,{G:()=>o,p:()=>r})},3023:(t,e,i)=>{"use strict";i.d(e,{ENTITY_COMPONENT_ICONS:()=>r});const r={person:{_:{default:"mdi:account",state:{not_home:"mdi:account-arrow-right"}}},number:{_:{default:"mdi:ray-vertex"},apparent_power:{default:"mdi:flash"},aqi:{default:"mdi:air-filter"},atmospheric_pressure:{default:"mdi:thermometer-lines"},battery:{default:"mdi:battery"},carbon_dioxide:{default:"mdi:molecule-co2"},carbon_monoxide:{default:"mdi:molecule-co"},current:{default:"mdi:current-ac"},data_rate:{default:"mdi:transmission-tower"},data_size:{default:"mdi:database"},distance:{default:"mdi:arrow-left-right"},duration:{default:"mdi:progress-clock"},energy:{default:"mdi:lightning-bolt"},energy_storage:{default:"mdi:car-battery"},frequency:{default:"mdi:sine-wave"},gas:{default:"mdi:meter-gas"},humidity:{default:"mdi:water-percent"},illuminance:{default:"mdi:brightness-5"},irradiance:{default:"mdi:sun-wireless"},moisture:{default:"mdi:water-percent"},monetary:{default:"mdi:cash"},nitrogen_dioxide:{default:"mdi:molecule"},nitrogen_monoxide:{default:"mdi:molecule"},nitrous_oxide:{default:"mdi:molecule"},ozone:{default:"mdi:molecule"},ph:{default:"mdi:ph"},pm1:{default:"mdi:molecule"},pm10:{default:"mdi:molecule"},pm25:{default:"mdi:molecule"},pm4:{default:"mdi:molecule"},power:{default:"mdi:flash"},power_factor:{default:"mdi:angle-acute"},precipitation:{default:"mdi:weather-rainy"},precipitation_intensity:{default:"mdi:weather-pouring"},pressure:{default:"mdi:gauge"},reactive_power:{default:"mdi:flash"},signal_strength:{default:"mdi:wifi"},sound_pressure:{default:"mdi:ear-hearing"},speed:{default:"mdi:speedometer"},sulfur_dioxide:{default:"mdi:molecule"},temperature:{default:"mdi:thermometer"},volatile_organic_compounds:{default:"mdi:molecule"},volatile_organic_compounds_parts:{default:"mdi:molecule"},voltage:{default:"mdi:sine-wave"},volume:{default:"mdi:car-coolant-level"},volume_storage:{default:"mdi:storage-tank"},water:{default:"mdi:water"},weight:{default:"mdi:weight"},wind_speed:{default:"mdi:weather-windy"}},select:{_:{default:"mdi:format-list-bulleted"}},tts:{_:{default:"mdi:speaker-message"}},datetime:{_:{default:"mdi:calendar-clock"}},vacuum:{_:{default:"mdi:robot-vacuum"}},wake_word:{_:{default:"mdi:chat-sleep"}},light:{_:{default:"mdi:lightbulb"}},alarm_control_panel:{_:{default:"mdi:shield",state:{armed_away:"mdi:shield-lock",armed_custom_bypass:"mdi:security",armed_home:"mdi:shield-home",armed_night:"mdi:shield-moon",armed_vacation:"mdi:shield-airplane",disarmed:"mdi:shield-off",pending:"mdi:shield-outline",triggered:"mdi:bell-ring"}}},text:{_:{default:"mdi:form-textbox"}},lawn_mower:{_:{default:"mdi:robot-mower"}},siren:{_:{default:"mdi:bullhorn"}},input_boolean:{_:{default:"mdi:check-circle-outline",state:{off:"mdi:close-circle-outline"}}},lock:{_:{default:"mdi:lock",state:{jammed:"mdi:lock-alert",locking:"mdi:lock-clock",unlocked:"mdi:lock-open",unlocking:"mdi:lock-clock",opening:"mdi:lock-clock",open:"mdi:lock-open-variant"}}},calendar:{_:{default:"mdi:calendar",state:{on:"mdi:calendar-check",off:"mdi:calendar-blank"}}},image:{_:{default:"mdi:image"}},device_tracker:{_:{default:"mdi:account",state:{not_home:"mdi:account-arrow-right"}}},scene:{_:{default:"mdi:palette"}},script:{_:{default:"mdi:script-text",state:{on:"mdi:script-text-play"}}},todo:{_:{default:"mdi:clipboard-list"}},cover:{_:{default:"mdi:window-open",state:{closed:"mdi:window-closed",closing:"mdi:arrow-down-box",opening:"mdi:arrow-up-box"}},blind:{default:"mdi:blinds-horizontal",state:{closed:"mdi:blinds-horizontal-closed",closing:"mdi:arrow-down-box",opening:"mdi:arrow-up-box"}},curtain:{default:"mdi:curtains",state:{closed:"mdi:curtains-closed",closing:"mdi:arrow-collapse-horizontal",opening:"mdi:arrow-split-vertical"}},damper:{default:"mdi:circle",state:{closed:"mdi:circle-slice-8"}},door:{default:"mdi:door-open",state:{closed:"mdi:door-closed"}},garage:{default:"mdi:garage-open",state:{closed:"mdi:garage",closing:"mdi:arrow-down-box",opening:"mdi:arrow-up-box"}},gate:{default:"mdi:gate-open",state:{closed:"mdi:gate",closing:"mdi:arrow-right",opening:"mdi:arrow-right"}},shade:{default:"mdi:roller-shade",state:{closed:"mdi:roller-shade-closed",closing:"mdi:arrow-down-box",opening:"mdi:arrow-up-box"}},shutter:{default:"mdi:window-shutter-open",state:{closed:"mdi:window-shutter",closing:"mdi:arrow-down-box",opening:"mdi:arrow-up-box"}},window:{default:"mdi:window-open",state:{closed:"mdi:window-closed",closing:"mdi:arrow-down-box",opening:"mdi:arrow-up-box"}}},switch:{_:{default:"mdi:toggle-switch-variant"},switch:{default:"mdi:toggle-switch-variant",state:{off:"mdi:toggle-switch-variant-off"}},outlet:{default:"mdi:power-plug",state:{off:"mdi:power-plug-off"}}},button:{_:{default:"mdi:button-pointer"},restart:{default:"mdi:restart"},identify:{default:"mdi:crosshairs-question"},update:{default:"mdi:package-up"}},water_heater:{_:{default:"mdi:water-boiler",state:{off:"mdi:water-boiler-off"},state_attributes:{operation_mode:{default:"mdi:circle-medium",state:{eco:"mdi:leaf",electric:"mdi:lightning-bolt",gas:"mdi:fire-circle",heat_pump:"mdi:heat-wave",high_demand:"mdi:finance",off:"mdi:power",performance:"mdi:rocket-launch"}}}}},binary_sensor:{_:{default:"mdi:radiobox-blank",state:{on:"mdi:checkbox-marked-circle"}},battery:{default:"mdi:battery",state:{on:"mdi:battery-outline"}},battery_charging:{default:"mdi:battery",state:{on:"mdi:battery-charging"}},carbon_monoxide:{default:"mdi:smoke-detector",state:{on:"mdi:smoke-detector-alert"}},cold:{default:"mdi:thermometer",state:{on:"mdi:snowflake"}},connectivity:{default:"mdi:close-network-outline",state:{on:"mdi:check-network-outline"}},door:{default:"mdi:door-closed",state:{on:"mdi:door-open"}},garage_door:{default:"mdi:garage",state:{on:"mdi:garage-open"}},gas:{default:"mdi:check-circle",state:{on:"mdi:alert-circle"}},heat:{default:"mdi:thermometer",state:{on:"mdi:fire"}},light:{default:"mdi:brightness-5",state:{on:"mdi:brightness-7"}},lock:{default:"mdi:lock",state:{on:"mdi:lock-open"}},moisture:{default:"mdi:water-off",state:{on:"mdi:water"}},motion:{default:"mdi:motion-sensor-off",state:{on:"mdi:motion-sensor"}},moving:{default:"mdi:arrow-right",state:{on:"mdi:octagon"}},occupancy:{default:"mdi:home-outline",state:{on:"mdi:home"}},opening:{default:"mdi:square",state:{on:"mdi:square-outline"}},plug:{default:"mdi:power-plug-off",state:{on:"mdi:power-plug"}},power:{default:"mdi:power-plug-off",state:{on:"mdi:power-plug"}},presence:{default:"mdi:home-outline",state:{on:"mdi:home"}},problem:{default:"mdi:check-circle",state:{on:"mdi:alert-circle"}},running:{default:"mdi:stop",state:{on:"mdi:play"}},safety:{default:"mdi:check-circle",state:{on:"mdi:alert-circle"}},smoke:{default:"mdi:smoke-detector-variant",state:{on:"mdi:smoke-detector-variant-alert"}},sound:{default:"mdi:music-note-off",state:{on:"mdi:music-note"}},tamper:{default:"mdi:check-circle",state:{on:"mdi:alert-circle"}},update:{default:"mdi:package",state:{on:"mdi:package-up"}},vibration:{default:"mdi:crop-portrait",state:{on:"mdi:vibrate"}},window:{default:"mdi:window-closed",state:{on:"mdi:window-open"}}},sensor:{_:{default:"mdi:eye"},apparent_power:{default:"mdi:flash"},aqi:{default:"mdi:air-filter"},atmospheric_pressure:{default:"mdi:thermometer-lines"},carbon_dioxide:{default:"mdi:molecule-co2"},carbon_monoxide:{default:"mdi:molecule-co"},current:{default:"mdi:current-ac"},data_rate:{default:"mdi:transmission-tower"},data_size:{default:"mdi:database"},date:{default:"mdi:calendar"},distance:{default:"mdi:arrow-left-right"},duration:{default:"mdi:progress-clock"},energy:{default:"mdi:lightning-bolt"},energy_storage:{default:"mdi:car-battery"},enum:{default:"mdi:eye"},frequency:{default:"mdi:sine-wave"},gas:{default:"mdi:meter-gas"},humidity:{default:"mdi:water-percent"},illuminance:{default:"mdi:brightness-5"},irradiance:{default:"mdi:sun-wireless"},moisture:{default:"mdi:water-percent"},monetary:{default:"mdi:cash"},nitrogen_dioxide:{default:"mdi:molecule"},nitrogen_monoxide:{default:"mdi:molecule"},nitrous_oxide:{default:"mdi:molecule"},ozone:{default:"mdi:molecule"},ph:{default:"mdi:ph"},pm1:{default:"mdi:molecule"},pm10:{default:"mdi:molecule"},pm25:{default:"mdi:molecule"},pm4:{default:"mdi:molecule"},power:{default:"mdi:flash"},power_factor:{default:"mdi:angle-acute"},precipitation:{default:"mdi:weather-rainy"},precipitation_intensity:{default:"mdi:weather-pouring"},pressure:{default:"mdi:gauge"},reactive_power:{default:"mdi:flash"},signal_strength:{default:"mdi:wifi"},sound_pressure:{default:"mdi:ear-hearing"},speed:{default:"mdi:speedometer"},sulfur_dioxide:{default:"mdi:molecule"},temperature:{default:"mdi:thermometer"},timestamp:{default:"mdi:clock"},volatile_organic_compounds:{default:"mdi:molecule"},volatile_organic_compounds_parts:{default:"mdi:molecule"},voltage:{default:"mdi:sine-wave"},volume:{default:"mdi:car-coolant-level"},volume_storage:{default:"mdi:storage-tank"},water:{default:"mdi:water"},weight:{default:"mdi:weight"},wind_speed:{default:"mdi:weather-windy"}},humidifier:{_:{default:"mdi:air-humidifier",state:{off:"mdi:air-humidifier-off"},state_attributes:{action:{default:"mdi:circle-medium",state:{drying:"mdi:arrow-down-bold",humidifying:"mdi:arrow-up-bold",idle:"mdi:clock-outline",off:"mdi:power"}},mode:{default:"mdi:circle-medium",state:{auto:"mdi:refresh-auto",away:"mdi:account-arrow-right",baby:"mdi:baby-carriage",boost:"mdi:rocket-launch",comfort:"mdi:sofa",eco:"mdi:leaf",home:"mdi:home",normal:"mdi:water-percent",sleep:"mdi:power-sleep"}}}}},valve:{_:{default:"mdi:pipe-valve"},gas:{default:"mdi:meter-gas"},water:{default:"mdi:pipe-valve"}},time:{_:{default:"mdi:clock"}},media_player:{_:{default:"mdi:cast",state:{off:"mdi:cast-off",paused:"mdi:cast-connected",playing:"mdi:cast-connected"}},receiver:{default:"mdi:audio-video",state:{off:"mdi:audio-video-off"}},speaker:{default:"mdi:speaker",state:{off:"mdi:speaker-off",paused:"mdi:speaker-pause",playing:"mdi:speaker-play"}},tv:{default:"mdi:television",state:{off:"mdi:television-off",paused:"mdi:television-pause",playing:"mdi:television-play"}}},air_quality:{_:{default:"mdi:air-filter"}},camera:{_:{default:"mdi:video",state:{off:"mdi:video-off"}}},date:{_:{default:"mdi:calendar"}},fan:{_:{default:"mdi:fan",state:{off:"mdi:fan-off"},state_attributes:{direction:{default:"mdi:rotate-right",state:{reverse:"mdi:rotate-left"}}}}},automation:{_:{default:"mdi:robot",state:{off:"mdi:robot-off",unavailable:"mdi:robot-confused"}}},weather:{_:{default:"mdi:weather-partly-cloudy",state:{"clear-night":"mdi:weather-night",cloudy:"mdi:weather-cloudy",exceptional:"mdi:alert-circle-outline",fog:"mdi:weather-fog",hail:"mdi:weather-hail",lightning:"mdi:weather-lightning","lightning-rainy":"mdi:weather-lightning-rainy",pouring:"mdi:weather-pouring",rainy:"mdi:weather-rainy",snowy:"mdi:weather-snowy","snowy-rainy":"mdi:weather-snowy-rainy",sunny:"mdi:weather-sunny",windy:"mdi:weather-windy","windy-variant":"mdi:weather-windy-variant"}}},climate:{_:{default:"mdi:thermostat",state_attributes:{fan_mode:{default:"mdi:circle-medium",state:{diffuse:"mdi:weather-windy",focus:"mdi:target",high:"mdi:speedometer",low:"mdi:speedometer-slow",medium:"mdi:speedometer-medium",middle:"mdi:speedometer-medium",off:"mdi:fan-off",on:"mdi:fan"}},hvac_action:{default:"mdi:circle-medium",state:{cooling:"mdi:snowflake",drying:"mdi:water-percent",fan:"mdi:fan",heating:"mdi:fire",idle:"mdi:clock-outline",off:"mdi:power",preheating:"mdi:heat-wave",defrosting:"mdi:snowflake-melt"}},preset_mode:{default:"mdi:circle-medium",state:{activity:"mdi:motion-sensor",away:"mdi:account-arrow-right",boost:"mdi:rocket-launch",comfort:"mdi:sofa",eco:"mdi:leaf",home:"mdi:home",sleep:"mdi:bed"}},swing_mode:{default:"mdi:circle-medium",state:{both:"mdi:arrow-all",horizontal:"mdi:arrow-left-right",off:"mdi:arrow-oscillating-off",on:"mdi:arrow-oscillating",vertical:"mdi:arrow-up-down"}}}}},stt:{_:{default:"mdi:microphone-message"}},update:{_:{default:"mdi:package-up",state:{off:"mdi:package"}}},event:{_:{default:"mdi:eye-check"},button:{default:"mdi:gesture-tap-button"},doorbell:{default:"mdi:doorbell"},motion:{default:"mdi:motion-sensor"}}}},3122:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(8222),n=i(2682);class s extends o.default{static getDefaultConfig(){return{type:"template",icon:"mdi:lightbulb-group",icon_color:"amber",content:r.O.getCountTemplate("light","eq","on"),tap_action:{action:"perform-action",perform_action:"light.turn_off",target:{entity_id:new n.A(r.O.entities).whereDomain("light").getValuesByProperty("entity_id")}},hold_action:{action:"navigate",navigation_path:"lights"}}}constructor(t){super(),this.configuration={...this.configuration,...s.getDefaultConfig(),...t}}}const a=s},3472:(t,e,i)=>{"use strict";i.d(e,{Y:()=>s});var r=i(5689);i.p;const o={};function n(t,e="HEAD"){if(t in o)return o[t];var i=new XMLHttpRequest;return i.open(e,t,!1),i.send(),200==i.status?(o[t]=!0,!0):405==i.status?n(t,"GET"):(o[t]=!1,!1)}function s(t){const e=r.O.strategyOptions;let i=e.background_images&&e.background_images[t]||e.background_image||"/hacsfiles/chuguan-strategy/view_background.jpg";return n(i)||(i="/local/chuguan-strategy/view_background.jpg"),{image:i,alignment:"center",attachment:"fixed",opacity:100,repeat:"repeat",size:"cover"}}},3560:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"tile",icon:void 0,line_color:void 0,entity:""}}constructor(t,e){super(t),this.setupFeatures(t),this.configuration={...this.configuration,...this.constructor.getDefaultConfig(),...this.getSubConfiguration(),...e}}getSubConfiguration(){return{}}}},3708:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-entity-card",icon:void 0,tap_action:{action:"toggle"}}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}is_card_active(t){return this.is_generic_card_active(t)}}const n=o},3720:(t,e,i)=>{"use strict";i.d(e,{H:()=>n});var r=i(6752),o=i(7804);const n=(0,o.u$)(class extends o.WL{constructor(t){if(super(t),t.type!==o.OA.ATTRIBUTE||"class"!==t.name||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){if(void 0===this.st){this.st=new Set,void 0!==t.strings&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!this.nt?.has(t)&&this.st.add(t);return this.render(e)}const i=t.element.classList;for(const t of this.st)t in e||(i.remove(t),this.st.delete(t));for(const t in e){const r=!!e[t];r===this.st.has(t)||this.nt?.has(t)||(r?(i.add(t),this.st.add(t)):(i.remove(t),this.st.delete(t)))}return r.c0}})},3874:(t,e,i)=>{"use strict";const r=i(8311);t.exports=(t,e)=>{try{return new r(t,e).range||"*"}catch(t){return null}}},3880:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>E});var r=i(5689),o=i(2700),n=i(3007),s=i(6964),a=i(2453),c=i(1122),l=i(2682),d=i(2737),u=i(5546),h=i(2723),f=i(5404),p=i(2618),m=i(4791),g=i(3720),v=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s};let _=class extends p.WF{static getStubConfig(){return{type:"custom:chuguan-clock-card"}}setConfig(t){this._config=t,"analog"===t.clock_style?Promise.resolve().then(i.bind(i,2367)):Promise.resolve().then(i.bind(i,2707))}getCardSize(){return"small"===this._config?.clock_size?1:2}getGridOptions(){if("analog"===this._config?.clock_style)switch(this._config?.clock_size){case"medium":return{min_rows:this._config?.title?4:3,rows:3,min_columns:5,columns:6};case"large":return{min_rows:this._config?.title?5:4,rows:4,min_columns:6,columns:6};default:return{min_rows:this._config?.title?3:2,rows:2,min_columns:2,columns:6}}switch(this._config?.clock_size){case"medium":return{min_rows:this._config?.title?2:1,rows:2,max_rows:4,min_columns:4,columns:6};case"large":return{min_rows:2,rows:2,max_rows:4,min_columns:6,columns:6};default:return{min_rows:1,rows:1,max_rows:4,min_columns:3,columns:6}}}render(){return this._config?p.qy`
      <ha-card
        class=${(0,g.H)({"no-background":this._config.no_background??!1})}
      >
        <div
          class="time-wrapper ${this._config.clock_size?`size-${this._config.clock_size}`:""}"
        >
          ${void 0!==this._config.title?p.qy`<div class="time-title">${this._config.title}</div>`:p.s6}
          ${"analog"===this._config.clock_style?p.qy`
                <chuguan-clock-card-analog
                  .hass=${this.hass}
                  .config=${this._config}
                ></chuguan-clock-card-analog>
              `:p.qy`
                <chuguan-clock-card-digital
                  .hass=${this.hass}
                  .config=${this._config}
                ></chuguan-clock-card-digital>
              `}
        </div>
      </ha-card>
    `:p.s6}};_.styles=p.AH`
    ha-card {
      height: 100%;
    }

    .no-background {
      background: none;
      box-shadow: none;
      border: none;
    }

    .time-wrapper {
      display: flex;
      height: calc(100% - 12px);
      align-items: center;
      flex-direction: column;
      justify-content: center;
      padding: 6px 8px;
      row-gap: 6px;
    }

    .time-wrapper.size-medium,
    .time-wrapper.size-large {
      height: calc(100% - 32px);
      padding: 16px;
      row-gap: 12px;
    }

    .time-title {
      color: var(--primary-text-color);
      font-size: 14px;
      font-weight: 400;
      line-height: 1.2;
      overflow: hidden;
      text-align: center;
      text-overflow: ellipsis;
      white-space: nowrap;
      width: 100%;
    }

    .time-wrapper.size-medium .time-title {
      font-size: 16px;
      line-height: 1.2;
    }

    .time-wrapper.size-large .time-title {
      font-size: 24px;
      line-height: 1.2;
    }
  `,v([(0,m.MZ)({attribute:!1})],_.prototype,"hass",void 0),v([(0,m.wk)()],_.prototype,"_config",void 0),_=v([(0,m.EM)("chuguan-clock-card")],_);var y=i(6440),w=i(8425),b=i(7734);class C extends c.default{constructor(t){super(),this.baseConfiguration={...this.baseConfiguration,...C.getDefaultConfig(),...t}}static getDefaultConfig(){return{title:(0,a.k)("generic.home"),icon:"mdi:home",path:"home",subview:!1}}async createCardConfigurations(){const t=[];let e,i,o;try{[e,i,o]=await Promise.all([this.createChipsSection(),this.createPersonsSection(),this.createAreasSection()])}catch(e){return(0,s.OG)(s.nR,"Error importing created sections!",e),t}e&&t.push(e),r.O.strategyOptions.home_view.hidden.includes("greeting")||t.push({type:"custom:mushroom-template-card",primary:`{% set time = now().hour %}\n           {% if (time >= 18) %}\n             ${(0,a.k)("generic.good_evening")},{{user}}!\n           {% elif (time >= 12) %}\n             ${(0,a.k)("generic.good_afternoon")}, {{user}}!\n           {% elif (time >= 6) %}\n             ${(0,a.k)("generic.good_morning")}, {{user}}!\n           {% else %}\n             ${(0,a.k)("generic.hello")}, {{user}}! {% endif %}`,icon:"mdi:hand-wave",icon_color:"orange",tap_action:{action:"none"},double_tap_action:{action:"none"},hold_action:{action:"none"}}),t.push(...this.getClockCards()),t.push(...this.getWeatherCards()),r.O.strategyOptions.quick_access_cards&&t.push(...r.O.strategyOptions.quick_access_cards),o&&t.push(o),r.O.strategyOptions.extra_cards&&t.push(...r.O.strategyOptions.extra_cards);const n=[{type:"vertical-stack",cards:t},{type:"vertical-stack",cards:this.getCalendarCard()}],c=r.O.entities.filter((t=>t.entity_id.startsWith("camera.")));return c.length>0&&n.unshift({type:"vertical-stack",cards:this.getCameraCards(c)}),n}getCalendarCard(){const t=r.O.entities.filter((t=>t.entity_id.startsWith("calendar."))),e=new u.default(t);return[...this.getCalendarProCard(),e.getCard(),...this.getUpdates()]}getCalendarProCard(){const t=r.O.entities.filter((t=>t.entity_id.startsWith("calendar.")));return[new u.CalendarProCard(t).getCard()]}getTodoCard(){return r.O.entities.filter((t=>t.entity_id.startsWith("todo."))).map((t=>new f.default(t,this.getCustomCardConfig(t)).getCard()))}getUpdates(){return[{type:"grid",cards:r.O.updates.map((t=>new w.default(t,this.getCustomCardConfig(t)).getCard())),columns:2,square:!1}]}getClockCards(){const t=[new y.default({},{clock_style:"analog",no_background:!0,border:!0}).getCard(),new y.default({},{}).getCard()];return(0,d.P)(t,2)}getWeatherCards(){return r.O.entities.filter((t=>t.entity_id.startsWith("weather."))).map((t=>b.default.createCard(t,this.getCustomCardConfig(t))))}getCameraCards(t){const e=t.map((t=>new h.default(t,this.getCustomCardConfig(t)).getCard()));return(0,d.P)(e,1)}async createChipsSection(){if(r.O.strategyOptions.home_view.hidden.includes("chips"))return;const t=[],e=r.O.getExposedNames("chip");let a;for(const c of e){if(!(0,o.ln)(c)||!new l.A(r.O.entities).whereDomain(c).count()){(0,s.OG)(s.tm,`Chip for domain ${c} is unsupported or has no entities available.`);continue}const e=(0,n.p)(c+"Chip");try{a=(await i(1216)(`./${e}`)).default;const r=new a;t.push(r.getChipConfiguration())}catch(t){(0,s.OG)(s.nR,`Error importing chip ${c}!`,t)}}return r.O.strategyOptions.chips?.extra_chips&&t.push(...r.O.strategyOptions.chips.extra_chips),{type:"custom:mushroom-chips-card",alignment:"center",chips:t}}async createPersonsSection(){if(r.O.strategyOptions.home_view.hidden.includes("persons"))return;const t=[],e=(await Promise.resolve().then(i.bind(i,845))).default;return t.push(...r.O.entities.filter((t=>t.entity_id.startsWith("person."))).map((t=>new e(t).getCard()))),{type:"vertical-stack",cards:(0,d.P)(t,r.O.strategyOptions.home_view.stack_count.persons??r.O.strategyOptions.home_view.stack_count._)}}async createAreasSection(){if(r.O.strategyOptions.home_view.hidden.includes("areas"))return;const t=[];for(const e of r.O.areas){const o=r.O.strategyOptions.areas[e.area_id]?.type??r.O.strategyOptions.areas._?.type??"default";let n;try{n=(await i(2560)(`./${o}`)).default}catch(t){n=(await Promise.resolve().then(i.bind(i,4301))).default,r.O.strategyOptions.debug&&"default"!==o&&(0,s.OG)(s.nR,`Error importing ${o}: card!`,t)}t.push(new n(e,{...r.O.strategyOptions.areas._,...r.O.strategyOptions.areas[e.area_id]}).getCard())}return{type:"vertical-stack",title:r.O.strategyOptions.home_view.hidden.includes("areasTitle")?void 0:(0,a.k)("generic.areas"),cards:(0,d.P)(t,r.O.strategyOptions.home_view.stack_count._,{"custom:mushroom-template-card":r.O.strategyOptions.home_view.stack_count.areas?.[0],area:r.O.strategyOptions.home_view.stack_count.areas?.[1]})}}}C.domain="home";const E=C},3904:(t,e,i)=>{"use strict";const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(t,e){if(e=n(e),t instanceof o){if(t.loose===!!e.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),l("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===r?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(t){const e=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],i=t.match(e);if(!i)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new d(i[2],this.options.loose):this.semver=r}toString(){return this.value}test(t){if(l("Comparator.test",t,this.options.loose),this.semver===r||t===r)return!0;if("string"==typeof t)try{t=new d(t,this.options)}catch(t){return!1}return c(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(t.value,e).test(this.value):""===t.operator?""===t.value||new u(this.value,e).test(t.semver):!((e=n(e)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===t.value)||!e.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!t.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!t.operator.startsWith("<"))&&(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))&&!(c(this.semver,"<",t.semver,e)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))&&!(c(this.semver,">",t.semver,e)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}}t.exports=o;const n=i(8587),{safeRe:s,t:a}=i(9718),c=i(2111),l=i(7272),d=i(3908),u=i(8311)},3908:(t,e,i)=>{"use strict";const r=i(7272),{MAX_LENGTH:o,MAX_SAFE_INTEGER:n}=i(6874),{safeRe:s,t:a}=i(9718),c=i(8587),{compareIdentifiers:l}=i(1123);class d{constructor(t,e){if(e=c(e),t instanceof d){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const i=t.trim().match(e.loose?s[a.LOOSE]:s[a.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<n)return e}return t})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof d)){if("string"==typeof t&&t===this.version)return 0;t=new d(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof d||(t=new d(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof d||(t=new d(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const i=this.prerelease[e],o=t.prerelease[e];if(r("prerelease compare",e,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return l(i,o)}while(++e)}compareBuild(t){t instanceof d||(t=new d(t,this.options));let e=0;do{const i=this.build[e],o=t.build[e];if(r("build compare",e,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return l(i,o)}while(++e)}inc(t,e,i){if(t.startsWith("pre")){if(!e&&!1===i)throw new Error("invalid increment argument: identifier is empty");if(e){const t=`-${e}`.match(this.options.loose?s[a.PRERELEASELOOSE]:s[a.PRERELEASE]);if(!t||t[1]!==e)throw new Error(`invalid identifier: ${e}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,i),this.inc("pre",e,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,i),this.inc("pre",e,i);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const t=Number(i)?1:0;if(0===this.prerelease.length)this.prerelease=[t];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(e===this.prerelease.join(".")&&!1===i)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(e){let r=[e,t];!1===i&&(r=[e]),0===l(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=d},3927:(t,e,i)=>{"use strict";const r=i(909);t.exports=(t,e)=>t.sort(((t,i)=>r(t,i,e)))},3999:(t,e,i)=>{"use strict";const r=i(560);t.exports=(t,e,i)=>0!==r(t,e,i)},4089:(t,e,i)=>{"use strict";const r=i(560);t.exports=(t,e,i)=>r(t,e,i)>=0},4137:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});class r{static getDefaultConfig(){return{type:"custom:mushroom-title-card",iconOn:"mdi:power-on",iconOff:"mdi:power-off",onService:"none",offService:"none"}}constructor(t,e){this.target=t,this.configuration={...r.getDefaultConfig(),...e}}createCard(){const t=[{type:"custom:mushroom-title-card",title:this.configuration.title,subtitle:this.configuration.subtitle}];return this.configuration.showControls&&t.push({type:"horizontal-stack",cards:[{type:"custom:mushroom-template-card",icon:this.configuration.iconOff,layout:"vertical",icon_color:"red",tap_action:{action:"call-service",service:this.configuration.offService,target:this.target,data:{}}},{type:"custom:mushroom-template-card",icon:this.configuration.iconOn,layout:"vertical",icon_color:"amber",tap_action:{action:"call-service",service:this.configuration.onService,target:this.target,data:{}}}]}),{type:"horizontal-stack",cards:t}}}const o=r},4277:(t,e,i)=>{"use strict";const r=i(909);t.exports=(t,e)=>t.sort(((t,i)=>r(i,t,e)))},4301:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-template-card",primary:void 0,icon:"mdi:floor-plan",icon_color:"blue",tap_action:{action:"navigate",navigation_path:""},hold_action:{action:"none"}}}constructor(t,e){super(t);const i=o.getDefaultConfig();let r=e;i.primary=t.name,i.icon=t.icon||i.icon,i.tap_action&&"navigation_path"in i.tap_action&&(i.tap_action.navigation_path=t.area_id),r&&(r={...r,type:i.type}),this.configuration={...this.configuration,...i,...r}}}const n=o},4486:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"tile",icon:void 0}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}}const n=o},4493:(t,e,i)=>{"use strict";const r=i(3908);t.exports=(t,e)=>new r(t,e).patch},4641:(t,e,i)=>{"use strict";const r=i(560);t.exports=(t,e,i)=>0===r(t,e,i)},4744:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?a((i=t,Array.isArray(i)?[]:{}),t,e):t;var i}function o(t,e,i){return t.concat(e).map((function(t){return r(t,i)}))}function n(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function s(t,e){try{return e in t}catch(t){return!1}}function a(t,i,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||e,c.cloneUnlessOtherwiseSpecified=r;var l=Array.isArray(i);return l===Array.isArray(t)?l?c.arrayMerge(t,i,c):function(t,e,i){var o={};return i.isMergeableObject(t)&&n(t).forEach((function(e){o[e]=r(t[e],i)})),n(e).forEach((function(n){(function(t,e){return s(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,n)||(s(t,n)&&i.isMergeableObject(e[n])?o[n]=function(t,e){if(!e.customMerge)return a;var i=e.customMerge(t);return"function"==typeof i?i:a}(n,i)(t[n],e[n],i):o[n]=r(e[n],i))})),o}(t,i,c):r(i,c)}a.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,i){return a(t,i,e)}),{})};var c=a;t.exports=c},4791:(t,e,i)=>{"use strict";i.d(e,{EM:()=>r,MZ:()=>a,wk:()=>c});const r=t=>(e,i)=>{void 0!==i?i.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};var o=i(842);const n={attribute:!0,type:String,converter:o.W3,reflect:!1,hasChanged:o.Ec},s=(t=n,e,i)=>{const{kind:r,metadata:o}=i;let s=globalThis.litPropertyMetadata.get(o);if(void 0===s&&globalThis.litPropertyMetadata.set(o,s=new Map),"setter"===r&&((t=Object.create(t)).wrapped=!0),s.set(i.name,t),"accessor"===r){const{name:r}=i;return{set(i){const o=e.get.call(this);e.set.call(this,i),this.requestUpdate(r,o,t,!0,i)},init(e){return void 0!==e&&this.C(r,void 0,t,e),e}}}if("setter"===r){const{name:r}=i;return function(i){const o=this[r];e.call(this,i),this.requestUpdate(r,o,t,!0,i)}}throw Error("Unsupported decorator location: "+r)};function a(t){return(e,i)=>"object"==typeof i?s(t,e,i):((t,e,i)=>{const r=e.hasOwnProperty(i);return e.constructor.createProperty(i,t),r?Object.getOwnPropertyDescriptor(e,i):void 0})(t,e,i)}function c(t){return a({...t,state:!0,attribute:!1})}},4818:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(5689),o=i(6964);const n=class{constructor(t){this.configuration={type:"custom:mushroom-entity-card",icon:"mdi:help-circle"},r.O.initialized||(0,o.OG)(o.ZY,"Registry not initialized!"),this.entity=t}getCard(){return{card_mod:this.is_card_active(this.entity),...this.configuration,entity:"entity_id"in this.entity?this.entity.entity_id:void 0}}is_card_active(t){return null}is_generic_card_active(t,e="==",i="on",r=""){return{style:{".":`ha-card {\n                  background-color: {{ 'white'\n                                       if states(config.entity)${e}'${i}' else\n                                       'rgba(0, 0, 0, 0.3)' }};\n                  backdrop-filter: blur(20px);\n                  -webkit-backdrop-filter: blur(20px);\n                }${r}`,"mushroom-state-info$":`.container { {{\n                                     '--card-primary-color: black;\n                                      --card-secondary-color: grey;'\n                                       if states(config.entity)${e}'${i}' else\n                                     '--card-primary-color: white;\n                                      --card-secondary-color: lightgrey;'\n                                   }} }`}}}setupFeatures(t){const e=r.O.hassStates[t.entity_id];if(!e)return;this.setupFeaturesState(t,e);const i=e.attributes.supported_features;i&&this.setupFeaturesSupported(t,i)}setupFeaturesState(t,e){}setupFeaturesSupported(t,e){}}},5032:(t,e,i)=>{"use strict";const r=i(8311),o=i(3904),{ANY:n}=o,s=i(7638),a=i(560),c=[new o(">=0.0.0-0")],l=[new o(">=0.0.0")],d=(t,e,i)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===n){if(1===e.length&&e[0].semver===n)return!0;t=i.includePrerelease?c:l}if(1===e.length&&e[0].semver===n){if(i.includePrerelease)return!0;e=l}const r=new Set;let o,d,f,p,m,g,v;for(const e of t)">"===e.operator||">="===e.operator?o=u(o,e,i):"<"===e.operator||"<="===e.operator?d=h(d,e,i):r.add(e.semver);if(r.size>1)return null;if(o&&d){if(f=a(o.semver,d.semver,i),f>0)return null;if(0===f&&(">="!==o.operator||"<="!==d.operator))return null}for(const t of r){if(o&&!s(t,String(o),i))return null;if(d&&!s(t,String(d),i))return null;for(const r of e)if(!s(t,String(r),i))return!1;return!0}let _=!(!d||i.includePrerelease||!d.semver.prerelease.length)&&d.semver,y=!(!o||i.includePrerelease||!o.semver.prerelease.length)&&o.semver;_&&1===_.prerelease.length&&"<"===d.operator&&0===_.prerelease[0]&&(_=!1);for(const t of e){if(v=v||">"===t.operator||">="===t.operator,g=g||"<"===t.operator||"<="===t.operator,o)if(y&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===y.major&&t.semver.minor===y.minor&&t.semver.patch===y.patch&&(y=!1),">"===t.operator||">="===t.operator){if(p=u(o,t,i),p===t&&p!==o)return!1}else if(">="===o.operator&&!s(o.semver,String(t),i))return!1;if(d)if(_&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===_.major&&t.semver.minor===_.minor&&t.semver.patch===_.patch&&(_=!1),"<"===t.operator||"<="===t.operator){if(m=h(d,t,i),m===t&&m!==d)return!1}else if("<="===d.operator&&!s(d.semver,String(t),i))return!1;if(!t.operator&&(d||o)&&0!==f)return!1}return!(o&&g&&!d&&0!==f||d&&v&&!o&&0!==f||y||_)},u=(t,e,i)=>{if(!t)return e;const r=a(t.semver,e.semver,i);return r>0?t:r<0||">"===e.operator&&">="===t.operator?e:t},h=(t,e,i)=>{if(!t)return e;const r=a(t.semver,e.semver,i);return r<0?t:r>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=(t,e,i={})=>{if(t===e)return!0;t=new r(t,i),e=new r(e,i);let o=!1;t:for(const r of t.set){for(const t of e.set){const e=d(r,t,i);if(o=o||null!==e,e)continue t}if(o)return!1}return!0}},5200:(t,e,i)=>{"use strict";const r=i(560);t.exports=(t,e,i)=>r(t,e,i)<=0},5342:(t,e,i)=>{"use strict";const r=i(7075);t.exports=(t,e,i)=>r(t,e,"<",i)},5388:(t,e,i)=>{"use strict";const r=i(3908);t.exports=(t,e,i,o,n)=>{"string"==typeof i&&(n=o,o=i,i=void 0);try{return new r(t instanceof r?t.version:t,i).inc(e,o,n).version}catch(t){return null}}},5404:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var r=i(4818);class o extends r.default{static getDefaultCardConfig(){return{type:"todo-list",entity:void 0,hide_completed:!0,hide_create:!1,hide_section_headers:!1}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultCardConfig(),title:t.original_name,...e}}}},5546:(t,e,i)=>{"use strict";i.r(e),i.d(e,{CalendarProCard:()=>s,default:()=>a});var r=i(5689),o=i(4818);class n extends o.default{static getDefaultConfig(){return{type:"calendar",entities:[],initial_view:"dayGridMonth"}}constructor(t,e){super(t[0]),this.configuration={...this.configuration,...n.getDefaultConfig(),...e},this.configuration.entities=t.map((t=>t.entity_id))}}class s extends o.default{static getDefaultConfig(){return{type:"custom:calendar-card-pro",entities:[],weather:{position:"both",date:{show_low_temp:!0},entity:void 0}}}constructor(t,e){super(t[0]);const i=r.O.config.hass.language;i&&(this.configuration.language=i,"zh-Hans"==i?this.configuration.language="zh-cn":"zh-Hant"==i&&(this.configuration.language="zh-tw")),this.configuration={...this.configuration,...s.getDefaultConfig(),...e},this.configuration.entities=t.map((t=>t.entity_id))}}const a=n},5555:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var r=i(3560);class o extends r.default{constructor(){super(...arguments),this.isPassword=!1}setupFeaturesState(t,e){this.isPassword="password"==e.attributes.mode}getSubConfiguration(){return{state_content:this.isPassword?"********":void 0,hide_state:this.isPassword}}}},5571:(t,e,i)=>{"use strict";const r=i(7075);t.exports=(t,e,i)=>r(t,e,">",i)},5580:(t,e,i)=>{"use strict";const r=i(560);t.exports=(t,e,i)=>r(t,e,i)>0},5689:(t,e,i)=>{"use strict";i.d(e,{O:()=>d});var r=i(4744),o=i.n(r),n=i(2700),s=i(6964),a=i(2453),c=i(2682);class l{constructor(t){this.options={},this.areas=[],this.hass=t,document.addEventListener("cg_sort_area",(t=>{const e=t.detail;this.saveAreaSort(e)})),document.addEventListener("cg_sort_domains",(t=>{const e=t.detail;this.saveDomainSort(e)}))}getCurrentDashboardKey(){return this.hass.panelUrl}async getConfig(){const t=this.getCurrentDashboardKey();if(null!=t)return await this.hass.callWS({type:"lovelace/config",url_path:t})}async saveConfig(t){const e=this.getCurrentDashboardKey();if(null==e)return;const i={strategy:{type:"custom:chuguan-strategy",options:t}};console.log(i),await this.hass.callWS({type:"lovelace/config/save",url_path:e,config:i})}async saveAreaSort(t){null==this.options.areas&&(this.options.areas={});for(const e of t){let t=this.options.areas[e.id];null==t?(t={order:e.order,hidden:!e.visible},this.options.areas[e.id]=t):(t.order=e.order,t.hidden=!e.visible)}await this.saveConfig(this.options),window.location.reload()}async saveDomainSort(t){null==this.options.views&&(this.options.views={});const e=2-Math.min(...t.map((t=>t.order)));for(const i of t){const t=i.id;let r=this.options.views[t];null==r?(r={order:i.order+e,hidden:!i.visible},this.options.views[t]=r):(r.order=i.order+e,r.hidden=!i.visible)}await this.saveConfig(this.options)}}class d{constructor(){}static get devices(){return d._devices}static get hassStates(){return d._hassStates}static get initialized(){return d._initialized}static get entities(){return d._entities}static get updates(){return d._updates}static get areas(){return d._areas}static get strategyOptions(){return d._strategyOptions}static async initialize(t){(0,a.A)(t.hass),d._hassStates=t.hass.states;const{ConfigurationDefaults:e}=await Promise.resolve().then(i.bind(i,7688));d.config=new l(t.hass),d.config.options=t.config?.strategy?.options??{};try{d._strategyOptions=o()(e,t.config?.strategy?.options??{})}catch(t){(0,s.OG)(s.ZY,"Error importing strategy options!",t)}(0,s.Ux)(d.strategyOptions.debug?s.ZY:s.QC),d.strategyOptions.debug&&(0,s.XN)();try{[d._entities,d._devices,d._areas]=await Promise.all([t.hass.callWS({type:"config/entity_registry/list"}),t.hass.callWS({type:"config/device_registry/list"}),t.hass.callWS({type:"config/area_registry/list"})])}catch(t){(0,s.OG)(s.ZY,"Error importing Home Assistant registries!",t)}const r={};for(const t of d._entities){const e=t.entity_id??"",i=e.split(".")[0],o=d.hassStates[e],n=o?.attributes?.device_class??"";r[i]||(r[i]={});const s=r[i];s[n]?s[n].push(t):s[n]=[t]}console.log(r),d._strategyOptions.extra_views.map((t=>({...t,subview:!1}))),d._updates=new c.A(d.entities).whereDomain("update").toList(),d._entities=new c.A(d.entities).not().whereEntityCategory("config").not().whereEntityCategory("diagnostic").isNotHidden().whereDisabledBy(null).orderBy(["name","original_name"],"asc").toList(),d._entities=d.entities.map((t=>({...t,area_id:t.area_id??"undisclosed"}))),d._devices=new c.A(d.devices).isNotHidden().whereDisabledBy(null).orderBy(["name_by_user","name"],"asc").toList(),d._devices=d.devices.map((t=>({...t,area_id:t.area_id??"undisclosed"}))),d.strategyOptions.areas._.hidden?d._areas=[]:(d.strategyOptions.areas.undisclosed?.hidden||d.areas.push(e.areas.undisclosed),d._areas=d.areas.map((t=>({...t,...d.strategyOptions.areas._,...d.strategyOptions.areas?.[t.area_id]}))),d.strategyOptions.areas.undisclosed.area_id="undisclosed",d.strategyOptions.areas.undisclosed.type="default",d.config.areas=new c.A(d.areas).orderBy(["order","name"],"asc").toList(),1==d.strategyOptions.areas.undisclosed?.hidden&&d.config.areas.push({...e.areas.undisclosed,...d.strategyOptions.areas._,...d.strategyOptions.areas.undisclosed}),d._areas=new c.A(d.areas).isNotHidden().orderBy(["order","name"],"asc").toList()),(()=>{const t=Object.entries(d.strategyOptions.views);d.strategyOptions.views=Object.fromEntries(t.sort((([t,e],[i,r])=>(e.order??1/0)-(r.order??1/0)||(e.title??"").localeCompare(r.title??""))))})(),(()=>{const t=Object.entries(d.strategyOptions.domains);d.strategyOptions.domains=Object.fromEntries(t.sort((([,t],[,e])=>(0,n.vv)(t)&&(0,n.vv)(e)?(t.order??1/0)-(e.order??1/0)||(t.title??"").localeCompare(e.title??""):0)))})(),d._initialized=!0}static getCountTemplate(t,e,i){const r=[];return d.initialized?(r.push(...new c.A(d.entities).whereDomain(t).where((t=>!t.entity_id.endsWith("_stateful_scene")&&"group"!==t.platform)).toList().map((t=>`states['${t.entity_id}']`))),`{% set entities = [${r}] %}\n       {{ entities\n          | selectattr('state','${e}','${i}')\n          | selectattr('state','ne','unavailable')\n          | selectattr('state','ne','unknown')\n          | list\n          | count\n        }}`):((0,s.OG)(s.br,"Registry is not initialized!"),"?")}static getExposedNames(t){if("chip"===t)return Object.entries(d.strategyOptions.chips).filter((([t,e])=>!0===e)).map((([t])=>t.split("_")[0]));const e=d.strategyOptions[`${t}s`];return Object.keys(e).filter((t=>"_"!==t&&"default"!==t&&!e[t].hidden))}}d._initialized=!1,d._updates=[],d._areas=[]},6170:(t,e,i)=>{"use strict";const r=i(3908),o=i(144),{safeRe:n,t:s}=i(9718);t.exports=(t,e)=>{if(t instanceof r)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;let i=null;if((e=e||{}).rtl){const r=e.includePrerelease?n[s.COERCERTLFULL]:n[s.COERCERTL];let o;for(;(o=r.exec(t))&&(!i||i.index+i[0].length!==t.length);)i&&o.index+o[0].length===i.index+i[0].length||(i=o),r.lastIndex=o.index+o[1].length+o[2].length;r.lastIndex=-1}else i=t.match(e.includePrerelease?n[s.COERCEFULL]:n[s.COERCE]);if(null===i)return null;const a=i[2],c=i[3]||"0",l=i[4]||"0",d=e.includePrerelease&&i[5]?`-${i[5]}`:"",u=e.includePrerelease&&i[6]?`+${i[6]}`:"";return o(`${a}.${c}.${l}${d}${u}`,e)}},6254:(t,e,i)=>{"use strict";const r=i(3908);t.exports=(t,e)=>new r(t,e).minor},6440:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(8816),o=i(4818);class n extends o.default{static getDefaultCardConfig(){return{type:"custom:chuguan-clock-card",clock_style:"digital",clock_size:"medium",show_seconds:!0,seconds_motion:"tick",time_format:r.Hg.twenty_four,no_background:!0,border:!1,ticks:"minute",face_style:"markers"}}constructor(t,e){super(t),this.configuration={...this.configuration,...n.getDefaultCardConfig(),...e}}}},6555:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-lock-card",icon:void 0,layout:"horizontal"}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}is_card_active(t){return this.is_generic_card_active(t,"!=","locked")}}const n=o},6559:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2453),n=i(1122);class s extends n.default{static getDefaultConfig(){return{title:(0,o.k)("climate.climates"),path:"climates",icon:"mdi:home-thermometer",subview:!1,headerCardConfiguration:{showControls:!1}}}static getViewHeaderCardConfig(){return{title:(0,o.k)("climate.all_climates"),subtitle:`${r.O.getCountTemplate(s.domain,"ne","off")} ${(0,o.k)("climate.climates")} `+(0,o.k)("generic.busy")}}domains(){return{[s.domain]:!0,cover:!0,fan:!0}}constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}}s.domain="climate";const a=s},6752:(t,e,i)=>{"use strict";i.d(e,{XX:()=>F,c0:()=>k,ge:()=>j,qy:()=>O,s6:()=>$});const r=globalThis,o=r.trustedTypes,n=o?o.createPolicy("lit-html",{createHTML:t=>t}):void 0,s="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,c="?"+a,l=`<${c}>`,d=document,u=()=>d.createComment(""),h=t=>null===t||"object"!=typeof t&&"function"!=typeof t,f=Array.isArray,p=t=>f(t)||"function"==typeof t?.[Symbol.iterator],m="[ \t\n\f\r]",g=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_=/>/g,y=RegExp(`>|${m}(?:([^\\s"'>=/]+)(${m}*=${m}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),w=/'/g,b=/"/g,C=/^(?:script|style|textarea|title)$/i,E=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),O=E(1),k=(E(2),E(3),Symbol.for("lit-noChange")),$=Symbol.for("lit-nothing"),S=new WeakMap,A=d.createTreeWalker(d,129);function x(t,e){if(!f(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==n?n.createHTML(e):e}const D=(t,e)=>{const i=t.length-1,r=[];let o,n=2===e?"<svg>":3===e?"<math>":"",c=g;for(let e=0;e<i;e++){const i=t[e];let d,u,h=-1,f=0;for(;f<i.length&&(c.lastIndex=f,u=c.exec(i),null!==u);)f=c.lastIndex,c===g?"!--"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?(C.test(u[2])&&(o=RegExp("</"+u[2],"g")),c=y):void 0!==u[3]&&(c=y):c===y?">"===u[0]?(c=o??g,h=-1):void 0===u[1]?h=-2:(h=c.lastIndex-u[2].length,d=u[1],c=void 0===u[3]?y:'"'===u[3]?b:w):c===b||c===w?c=y:c===v||c===_?c=g:(c=y,o=void 0);const p=c===y&&t[e+1].startsWith("/>")?" ":"";n+=c===g?i+l:h>=0?(r.push(d),i.slice(0,h)+s+i.slice(h)+a+p):i+a+(-2===h?e:p)}return[x(t,n+(t[i]||"<?>")+(2===e?"</svg>":3===e?"</math>":"")),r]};class T{constructor({strings:t,_$litType$:e},i){let r;this.parts=[];let n=0,l=0;const d=t.length-1,h=this.parts,[f,p]=D(t,e);if(this.el=T.createElement(f,i),A.currentNode=this.el.content,2===e||3===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=A.nextNode())&&h.length<d;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(s)){const e=p[l++],i=r.getAttribute(t).split(a),o=/([.?@])?(.*)/.exec(e);h.push({type:1,index:n,name:o[2],strings:i,ctor:"."===o[1]?L:"?"===o[1]?M:"@"===o[1]?z:P}),r.removeAttribute(t)}else t.startsWith(a)&&(h.push({type:6,index:n}),r.removeAttribute(t));if(C.test(r.tagName)){const t=r.textContent.split(a),e=t.length-1;if(e>0){r.textContent=o?o.emptyScript:"";for(let i=0;i<e;i++)r.append(t[i],u()),A.nextNode(),h.push({type:2,index:++n});r.append(t[e],u())}}}else if(8===r.nodeType)if(r.data===c)h.push({type:2,index:n});else{let t=-1;for(;-1!==(t=r.data.indexOf(a,t+1));)h.push({type:7,index:n}),t+=a.length-1}n++}}static createElement(t,e){const i=d.createElement("template");return i.innerHTML=t,i}}function I(t,e,i=t,r){if(e===k)return e;let o=void 0!==r?i._$Co?.[r]:i._$Cl;const n=h(e)?void 0:e._$litDirective$;return o?.constructor!==n&&(o?._$AO?.(!1),void 0===n?o=void 0:(o=new n(t),o._$AT(t,i,r)),void 0!==r?(i._$Co??=[])[r]=o:i._$Cl=o),void 0!==o&&(e=I(t,o._$AS(t,e.values),o,r)),e}class N{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,r=(t?.creationScope??d).importNode(e,!0);A.currentNode=r;let o=A.nextNode(),n=0,s=0,a=i[0];for(;void 0!==a;){if(n===a.index){let e;2===a.type?e=new R(o,o.nextSibling,this,t):1===a.type?e=new a.ctor(o,a.name,a.strings,this,t):6===a.type&&(e=new V(o,this,t)),this._$AV.push(e),a=i[++s]}n!==a?.index&&(o=A.nextNode(),n++)}return A.currentNode=d,r}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,r){this.type=2,this._$AH=$,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=I(this,t,e),h(t)?t===$||null==t||""===t?(this._$AH!==$&&this._$AR(),this._$AH=$):t!==this._$AH&&t!==k&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):p(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==$&&h(this._$AH)?this._$AA.nextSibling.data=t:this.T(d.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=T.createElement(x(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(e);else{const t=new N(r,this),i=t.u(this.options);t.p(e),this.T(i),this._$AH=t}}_$AC(t){let e=S.get(t.strings);return void 0===e&&S.set(t.strings,e=new T(t)),e}k(t){f(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,r=0;for(const o of t)r===e.length?e.push(i=new R(this.O(u()),this.O(u()),this,this.options)):i=e[r],i._$AI(o),r++;r<e.length&&(this._$AR(i&&i._$AB.nextSibling,r),e.length=r)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class P{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,r,o){this.type=1,this._$AH=$,this._$AN=void 0,this.element=t,this.name=e,this._$AM=r,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=$}_$AI(t,e=this,i,r){const o=this.strings;let n=!1;if(void 0===o)t=I(this,t,e,0),n=!h(t)||t!==this._$AH&&t!==k,n&&(this._$AH=t);else{const r=t;let s,a;for(t=o[0],s=0;s<o.length-1;s++)a=I(this,r[i+s],e,s),a===k&&(a=this._$AH[s]),n||=!h(a)||a!==this._$AH[s],a===$?t=$:t!==$&&(t+=(a??"")+o[s+1]),this._$AH[s]=a}n&&!r&&this.j(t)}j(t){t===$?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class L extends P{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===$?void 0:t}}class M extends P{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==$)}}class z extends P{constructor(t,e,i,r,o){super(t,e,i,r,o),this.type=5}_$AI(t,e=this){if((t=I(this,t,e,0)??$)===k)return;const i=this._$AH,r=t===$&&i!==$||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,o=t!==$&&(i===$||r);r&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class V{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){I(this,t)}}const j={M:s,P:a,A:c,C:1,L:D,R:N,D:p,V:I,I:R,H:P,N:M,U:z,B:L,F:V},H=r.litHtmlPolyfillSupport;H?.(T,R),(r.litHtmlVersions??=[]).push("3.3.2");const F=(t,e,i)=>{const r=i?.renderBefore??e;let o=r._$litPart$;if(void 0===o){const t=i?.renderBefore??null;r._$litPart$=o=new R(e.insertBefore(u(),t),t,void 0,i??{})}return o._$AI(t),o}},6780:(t,e,i)=>{"use strict";const r=i(8311);t.exports=(t,e,i)=>(t=new r(t,i),e=new r(e,i),t.intersects(e,i))},6838:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2700),n=i(4818);class s extends n.default{static getDefaultConfig(){return{type:"custom:mushroom-alarm-control-panel-card",icon:void 0,layout:"horizontal"}}constructor(t,e){super(t);const i=s.getDefaultConfig();(0,o.eq)(i.tap_action)&&(i.tap_action.target={entity_id:t.entity_id}),i.icon=r.O.hassStates[t.entity_id]?.attributes.icon??i.icon,this.configuration={...this.configuration,...i,...this.getSubClassCustomCardConfig(t),...e}}getSubClassCustomCardConfig(t){const e=r.O.hassStates[t.entity_id];if(!e)return null;const i=e.attributes.supported_features;if(!i)return null;const o=[];return 1&i&&o.push("armed_home"),2&i&&o.push("armed_away"),4&i&&o.push("armed_night"),{states:o}}is_card_active(t){return this.is_generic_card_active(t,"!=","disarmed")}}const a=s},6864:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(2453),o=i(1122);class n extends o.default{static getDefaultConfig(){return{title:(0,r.k)("button.buttons"),path:"buttons",icon:"mdi:button-pointer",subview:!1}}static getViewHeaderCardConfig(){return{title:(0,r.k)("button.all_buttons")}}constructor(t){super(),this.initializeViewConfig(n.getDefaultConfig(),t,n.getViewHeaderCardConfig())}}n.domain="button";const s=n},6874:t=>{"use strict";const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},6953:(t,e,i)=>{"use strict";const r=i(144);t.exports=(t,e)=>{const i=r(t,e);return i?i.version:null}},6964:(t,e,i)=>{"use strict";i.d(e,{OG:()=>f,QC:()=>n,Ux:()=>h,WU:()=>s,XN:()=>p,ZY:()=>d,br:()=>c,nR:()=>l,tm:()=>a});var r,o=i(3007);!function(t){t[t.Off=0]="Off",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.Fatal=5]="Fatal"}(r||(r={}));const{Off:n,Debug:s,Info:a,Warn:c,Error:l,Fatal:d}=r;let u=r.Fatal;function h(t){u=t}function f(t,e,...i){try{!function(t,e,...i){if(u===r.Off||t>u)return;const n="ChuGuan Strategy - An error occurred. Check the console (F12) for details.",s=`[${r[t].toUpperCase()}]`,a=i.map(o.G),c=`[at ${function(t){if(!t)return"unknown";const e=t.split("\n").filter(Boolean);for(let t=1;t<e.length;t++){const i=e[t].trim();if(i.includes("@")&&!i.startsWith("logMessage"))return i.split("@")[0]||"anonymous";if(i.startsWith("@"))return"anonymous function"}for(let t=1;t<e.length;t++){const i=e[t].match(/at ([^( ]+)/);if(i&&i[1]&&"logMessage"!==i[1])return i[1]}return"unknown function"}((new Error).stack)}]`;switch(t){case r.Debug:console.debug(`${s}${c} ${e}`,...a);break;case r.Info:console.info(`${s}${c} ${e}`,...a);break;case r.Warn:console.warn(`${s}${c} ${e}`,...a);break;case r.Error:throw console.error(`${s}${c} ${e}`,...a),n;case r.Fatal:throw console.error(`${s}${c} ${e}`,...a),alert?.(`${s} ${e}`),n}}(t,e,...i)}catch(r){console.error("logMessage error",t,e,...i)}}function p(){const t=EventTarget.prototype.dispatchEvent;EventTarget.prototype.dispatchEvent=function(e){try{const t=e.detail;console.log(e.type,t),"show-dialog"==e.type&&t.dialogImport&&console.log(t.dialogImport)}catch(t){console.log(e.type,t)}return t.call(this,e)}}},7059:(t,e,i)=>{"use strict";const r=i(560);t.exports=(t,e,i)=>r(t,e,i)<0},7075:(t,e,i)=>{"use strict";const r=i(3908),o=i(3904),{ANY:n}=o,s=i(8311),a=i(7638),c=i(5580),l=i(7059),d=i(5200),u=i(4089);t.exports=(t,e,i,h)=>{let f,p,m,g,v;switch(t=new r(t,h),e=new s(e,h),i){case">":f=c,p=d,m=l,g=">",v=">=";break;case"<":f=l,p=u,m=c,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(t,e,h))return!1;for(let i=0;i<e.set.length;++i){const r=e.set[i];let s=null,a=null;if(r.forEach((t=>{t.semver===n&&(t=new o(">=0.0.0")),s=s||t,a=a||t,f(t.semver,s.semver,h)?s=t:m(t.semver,a.semver,h)&&(a=t)})),s.operator===g||s.operator===v)return!1;if((!a.operator||a.operator===g)&&p(t,a.semver))return!1;if(a.operator===v&&m(t,a.semver))return!1}return!0}},7204:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(2453),o=i(1122);class n extends o.default{static getDefaultConfig(){return{title:(0,r.k)("scene.scenes"),path:"scenes",icon:"mdi:palette",subview:!1,headerCardConfiguration:{showControls:!1}}}static getViewHeaderCardConfig(){return{}}constructor(t){super(),this.initializeViewConfig(n.getDefaultConfig(),t,n.getViewHeaderCardConfig())}}n.domain="scene";const s=n},7212:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-select-card",icon:void 0,layout:"horizontal"}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}}const n=o},7272:t=>{"use strict";const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=e},7348:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2700),n=i(4818);class s extends n.default{static getDefaultConfig(){return{type:"custom:mushroom-entity-card",tap_action:{action:"perform-action",perform_action:"button.press",target:{entity_id:void 0}}}}constructor(t,e){super(t);const i=s.getDefaultConfig();(0,o.eq)(i.tap_action)&&(i.tap_action.target={entity_id:t.entity_id}),i.icon=r.O.hassStates[t.entity_id]?.attributes.icon??i.icon,this.configuration={...this.configuration,...i,...e}}}const a=s},7407:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(5689),o=i(3472),n=i(2453);class s{constructor(t={}){}getViews(){return[{title:(0,n.k)("setting.area_sort"),path:"area_sort",back_path:"setting",subview:!0,hidden:!1,order:1/0,strategy:{type:"custom:chuguan-strategy",options:{type:"area_sort"}},background:(0,o.Y)("setting")}]}async getCards(){const t=[],e=[];return e.push(this.getSortAres()),t.push({type:"vertical-stack",cards:e}),t}getSortAres(){return{type:"custom:chuguan-sort-list",list:r.O.config.areas.map(((t,e)=>({id:t.area_id,name:t.name,visible:!t.hidden,order:t.order??e+1}))),event:"cg_sort_area",action:{action:"navigate",navigation_path:"setting"}}}}},7414:(t,e,i)=>{"use strict";const r=i(144);t.exports=(t,e)=>{const i=r(t.trim().replace(/^[=v]+/,""),e);return i?i.version:null}},7430:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});const r=["on_off","start_pause","stop","locate","clean_spot","return_home"];var o=i(4818);class n extends o.default{static getDefaultConfig(){return{type:"custom:mushroom-vacuum-card",icon:void 0,icon_animation:!0,layout:"horizontal",commands:[...r],tap_action:{action:"more-info"}}}constructor(t,e){super(t),this.configuration={...this.configuration,...n.getDefaultConfig(),...e}}is_card_active(t){return this.is_generic_card_active(t,"in",'["cleaning", "returning", "paused"]')}}const s=n},7498:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>c});var r=i(2723),o=i(4137),n=i(2453),s=i(1122);class a extends s.default{static getDefaultConfig(){return{title:(0,n.k)("security.title"),path:"security",icon:"mdi:security",subview:!1}}static getViewHeaderCardConfig(){return{title:(0,n.k)("security.title")}}domains(){return{lock:!0,camera:!0,alarm_control_panel:!0,cover:["door","garage","gate","window"],binary_sensor:["co","gas","door","garage_door","lock","motion","problem","safety","smoke","tamper","window"],siren:!0}}constructor(t){super(),this.initializeViewConfig(a.getDefaultConfig(),t,a.getViewHeaderCardConfig())}async createAreaCards(t,e,i){if("undisclosed"==t.area_id){const s=e.filter((t=>t.entity_id.startsWith("camera."))),a=[];if(s.length>0){const c=new o.default({},{title:(0,n.k)("camera.cameras")}).createCard(),l=s.map((t=>new r.default(t,this.getCustomCardConfig(t)).getCard()));l&&a.push(c,...l);const d=e.filter((t=>!t.entity_id.startsWith("camera.")));if(d.length>0){const e=await super.createAreaCards(t,d,i);e&&a.push(...e)}return a}}return super.createAreaCards(t,e,i)}}a.domain="security";const c=a},7547:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2453),n=i(1122);class s extends n.default{static getDefaultConfig(){return{title:(0,o.k)("cover.covers"),path:"covers",icon:"mdi:window-open",subview:!1,headerCardConfiguration:{iconOn:"mdi:arrow-up",iconOff:"mdi:arrow-down",onService:"cover.open_cover",offService:"cover.close_cover"}}}static getViewHeaderCardConfig(){return{title:(0,o.k)("cover.all_covers"),subtitle:`${r.O.getCountTemplate(s.domain,"search","(open|opening|closing)")} ${(0,o.k)("cover.covers")} ${(0,o.k)("generic.unclosed")}`}}constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}}s.domain="cover";const a=s},7631:(t,e,i)=>{"use strict";const r=i(8311);t.exports=(t,e)=>new r(t,e).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")))},7638:(t,e,i)=>{"use strict";const r=i(8311);t.exports=(t,e,i)=>{try{e=new r(e,i)}catch(t){return!1}return e.test(t)}},7688:(t,e,i)=>{"use strict";i.d(e,{ConfigurationDefaults:()=>o});var r=i(2453);const o={areas:{_:{type:"AreaCard"},undisclosed:{aliases:[],area_id:"undisclosed",created_at:0,floor_id:null,hidden:!1,humidity_entity_id:null,icon:"mdi:floor-plan",labels:[],modified_at:0,name:(0,r.k)("generic.undisclosed"),picture:null,temperature_entity_id:null,order:1/0}},card_options:{},chips:{weather_entity:"auto",light_count:!0,fan_count:!0,cover_count:!0,switch_count:!0,climate_count:!0,extra_chips:[]},debug:!1,domains:{_:{hide_config_entities:void 0,hide_diagnostic_entities:void 0,showControls:!1,stack_count:1},alarm_control_panel:{title:(0,r.k)("alarm_control_panel.title"),showControls:!1,hidden:!1,stack_count:1},binary_sensor:{title:(0,r.k)("sensor.binary"),showControls:!1,hidden:!1,stack_count:2},button:{title:(0,r.k)("button.buttons"),showControls:!1,hidden:!1,stack_count:2},camera:{title:(0,r.k)("camera.cameras"),showControls:!1,hidden:!0},climate:{title:(0,r.k)("climate.climates"),showControls:!1,hidden:!1},cover:{title:(0,r.k)("cover.covers"),iconOn:"mdi:arrow-up",iconOff:"mdi:arrow-down",onService:"cover.open_cover",offService:"cover.close_cover",hidden:!0},default:{title:(0,r.k)("generic.miscellaneous"),showControls:!1,hidden:!1,stack_count:2},fan:{title:(0,r.k)("fan.fans"),iconOn:"mdi:fan",iconOff:"mdi:fan-off",onService:"fan.turn_on",offService:"fan.turn_off",hidden:!0},humidifier:{title:(0,r.k)("humidifier.humidifiers"),showControls:!1,hidden:!1},input_select:{title:(0,r.k)("input_select.input_selects"),showControls:!1,hidden:!1},light:{title:(0,r.k)("light.lights"),iconOn:"mdi:lightbulb",iconOff:"mdi:lightbulb-off",onService:"light.turn_on",offService:"light.turn_off",hidden:!1,stack_count:2},lock:{title:(0,r.k)("lock.locks"),showControls:!1,hidden:!0},media_player:{title:(0,r.k)("media_player.media_players"),showControls:!1,hidden:!1},number:{title:(0,r.k)("generic.numbers"),showControls:!1,hidden:!1},scene:{title:(0,r.k)("scene.scenes"),showControls:!1,onService:"scene.turn_on",hidden:!1},select:{title:(0,r.k)("select.selects"),showControls:!1,hidden:!1},security:{title:(0,r.k)("security.title"),showControls:!1,hidden:!1,stack_count:1},sensor:{title:(0,r.k)("sensor.sensors"),showControls:!1,hidden:!1},siren:{title:(0,r.k)("siren.sirens"),showControls:!1,hidden:!1,stack_count:2},text:{title:(0,r.k)("text.texts"),showControls:!1,hidden:!1},todo:{title:(0,r.k)("todo.todos"),showControls:!1,hidden:!1},switch:{title:(0,r.k)("switch.switches"),iconOn:"mdi:power-plug",iconOff:"mdi:power-plug-off",onService:"switch.turn_on",offService:"switch.turn_off",hidden:!1,stack_count:2},vacuum:{title:(0,r.k)("vacuum.vacuums"),iconOn:"mdi:robot-vacuum",iconOff:"mdi:robot-vacuum-off",onService:"vacuum.start",offService:"vacuum.stop",hidden:!1},valve:{title:(0,r.k)("valve.valves"),iconOn:"mdi:valve-open",iconOff:"mdi:valve-closed",onService:"valve.open_valve",offService:"valve.close_valve",hidden:!1,stack_count:2},water_heater:{title:(0,r.k)("water_heater.water_heaters"),showControls:!1,hidden:!1,stack_count:2},weather:{title:(0,r.k)("weather.weather"),showControls:!1,hidden:!1}},extra_cards:[],extra_views:[],home_view:{hidden:[],stack_count:{_:2}},views:{camera:{order:6,hidden:!0},button:{order:9,hidden:!1},climate:{order:5,hidden:!1},cover:{order:4,hidden:!0},fan:{order:8,hidden:!0},home:{order:1,hidden:!1},light:{order:2,hidden:!1},security:{order:2,hidden:!1},lock:{order:7,hidden:!0},scene:{order:12,hidden:!1},switch:{order:3,hidden:!1},vacuum:{order:10,hidden:!1},valve:{order:11,hidden:!1},sensor:{order:13,hidden:!1}},quick_access_cards:[]}},7716:(t,e,i)=>{"use strict";t.exports=i(9589)},7734:(t,e,i)=>{"use strict";i.r(e),i.d(e,{LovelaceColorfulcloudsWeatherCard:()=>s,default:()=>n});var r=i(4818),o=i(5689);class n extends r.default{static getDefaultCardConfig(){return{entity:"",type:"weather-forecast",show_current:!0,show_forecast:!1,forecast_type:"hourly",secondary_info_attribute:"wind_speed",round_temperature:!0}}constructor(t,e){super(t),this.has_daily=!1,this.has_hourly=!1,this.has_twice_daily=!1,this.setupFeatures(t),this.configuration={...this.configuration,...n.getDefaultCardConfig(),...e,entity:t.entity_id},this.has_hourly?(this.configuration.show_forecast=!0,this.configuration.forecast_type="hourly"):this.has_twice_daily?(this.configuration.show_forecast=!0,this.configuration.forecast_type="twice_daily"):this.has_daily?(this.configuration.show_forecast=!0,this.configuration.forecast_type="daily"):(this.configuration.show_forecast=!0,this.configuration.forecast_type="legacy")}setupFeaturesSupported(t,e){this.has_daily=!!(1&e),this.has_hourly=!!(2&e),this.has_twice_daily=!!(4&e)}static createCard(t,e){if("tianqi"==t.platform){const i=o.O.hassStates[t.entity_id];if(i?.attributes?.support_caiyun)return new s(t,e).getCard()}return new n(t,e).getCard()}}class s extends r.default{static getDefaultCardConfig(){return{type:"custom:weather-card",entity:"",show_houer:!0,show_daily:!0,show_realtime:!0,icon:"/hacsfiles/lovelace-colorfulclouds-weather-card/icons/animated/",secondary_info_attribute:"wind_speed"}}constructor(t,e){super(t),this.has_daily=!1,this.has_hourly=!1,this.setupFeatures(t),this.configuration={...this.configuration,...s.getDefaultCardConfig(),...e,entity:t.entity_id},this.has_hourly&&(this.configuration.show_houer=!0),this.has_daily&&(this.configuration.show_daily=!0)}setupFeaturesSupported(t,e){this.has_daily=!!(1&e),this.has_hourly=!!(2&e)}}},7757:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(5689),o=i(8222);class n extends o.default{static getDefaultConfig(){return{type:"template",icon:"mdi:home-thermometer",icon_color:"orange",content:r.O.getCountTemplate("climate","ne","off"),tap_action:{action:"navigate",navigation_path:"climates"},hold_action:{action:"navigate",navigation_path:"climates"}}}constructor(t){super(),this.configuration={...this.configuration,...n.getDefaultConfig(),...t}}}const s=n},7804:(t,e,i)=>{"use strict";i.d(e,{OA:()=>r,WL:()=>n,u$:()=>o});const r={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},o=t=>(...e)=>({_$litDirective$:t,values:e});class n{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},7935:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2453),n=i(1122);class s extends n.default{static getDefaultConfig(){return{title:(0,o.k)("locks.locks"),path:"locks",icon:"mdi:lock-open",subview:!1,headerCardConfiguration:{iconOn:"mdi:lock-open",iconOff:"mdi:lock",onService:"lock.lock",offService:"lock.unlock"}}}static getViewHeaderCardConfig(){return{title:(0,o.k)("lock.all_locks"),subtitle:`${r.O.getCountTemplate(s.domain,"ne","locked")} ${(0,o.k)("lock.locks")} `+(0,o.k)("lock.unlocked")}}constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}}s.domain="lock";const a=s},8033:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-cover-card",icon:void 0,layout:"horizontal",show_buttons_control:!0,show_position_control:!0,show_tilt_position_control:!0}}constructor(t,e){super(t),this.hasOpen=!0,this.hasPosition=!0,this.hasTilt=!0,this.setupFeatures(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...this.getSubClassCustomCardConfig(t),...e},0==this.hasOpen&&(this.configuration.tap_action={action:"none"})}is_card_active(t){return 0==this.hasOpen?null:this.is_generic_card_active(t,"!=","closed")}getSubClassCustomCardConfig(t){return{show_buttons_control:this.hasOpen,show_position_control:this.hasPosition,show_tilt_position_control:this.hasTilt}}setupFeaturesSupported(t,e){this.hasOpen=!!(1&e),this.hasPosition=!!(4&e),this.hasTilt=!!(128&e)}}const n=o},8222:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(5689),o=i(6964);const n=class{constructor(){this.configuration={type:"template"},r.O.initialized||(0,o.OG)(o.ZY,"Registry not initialized!")}getChipConfiguration(){return this.configuration}}},8254:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2700),n=i(4818);class s extends n.default{static getDefaultConfig(){return{type:"custom:mushroom-light-card",icon:void 0,layout:"horizontal",show_brightness_control:!0,show_color_control:!0,show_color_temp_control:!0,use_light_color:!0,double_tap_action:{action:"call-service",perform_action:"light.turn_on",target:{entity_id:void 0},data:{rgb_color:[255,255,255]}}}}constructor(t,e){super(t);const i=s.getDefaultConfig();(0,o.eq)(i.double_tap_action)&&(i.double_tap_action.target={entity_id:t.entity_id}),this.configuration={...this.configuration,...i,...this.getSubClassCustomCardConfig(t),...e}}is_card_active(t){return this.is_generic_card_active(t)}getSubClassCustomCardConfig(t){const e=r.O.hassStates[t.entity_id];if(!e)return null;const i=e.attributes.supported_color_modes;if(Array.isArray(i)){let t=!1,e=!1,r=!1,o=!1,n=i[0];return t="onoff"==n,e=["brightness","color_temp","hs","xy","rgb","rgbw","rgbww"].includes(n),r="color_temp"==n,o=["hs","xy","rgb","rgbw","rgbww"].includes(n),{show_brightness_control:e,show_color_temp_control:r,show_color_control:o,layout:"horizontal",stack_count:e||o||r?2:1}}return null}}const a=s},8311:(t,e,i)=>{"use strict";const r=/\s+/g;class o{constructor(t,e){if(e=s(e),t instanceof o)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new o(t.raw,e);if(t instanceof a)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().replace(r," "),this.set=this.raw.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!v(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&_(t[0])){this.set=[t];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");const e=this.set[t];for(let t=0;t<e.length;t++)t>0&&(this.formatted+=" "),this.formatted+=e[t].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){const e=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+t,i=n.get(e);if(i)return i;const r=this.options.loose,o=r?d[u.HYPHENRANGELOOSE]:d[u.HYPHENRANGE];t=t.replace(o,D(this.options.includePrerelease)),c("hyphen replace",t),t=t.replace(d[u.COMPARATORTRIM],h),c("comparator trim",t),t=t.replace(d[u.TILDETRIM],f),c("tilde trim",t),t=t.replace(d[u.CARETTRIM],p),c("caret trim",t);let s=t.split(" ").map((t=>w(t,this.options))).join(" ").split(/\s+/).map((t=>x(t,this.options)));r&&(s=s.filter((t=>(c("loose invalid filter",t,this.options),!!t.match(d[u.COMPARATORLOOSE]))))),c("range list",s);const l=new Map,_=s.map((t=>new a(t,this.options)));for(const t of _){if(v(t))return[t];l.set(t.value,t)}l.size>1&&l.has("")&&l.delete("");const y=[...l.values()];return n.set(e,y),y}intersects(t,e){if(!(t instanceof o))throw new TypeError("a Range is required");return this.set.some((i=>y(i,e)&&t.set.some((t=>y(t,e)&&i.every((i=>t.every((t=>i.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(T(this.set[e],t,this.options))return!0;return!1}}t.exports=o;const n=new(i(8794)),s=i(8587),a=i(3904),c=i(7272),l=i(3908),{safeRe:d,t:u,comparatorTrimReplace:h,tildeTrimReplace:f,caretTrimReplace:p}=i(9718),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=i(6874),v=t=>"<0.0.0-0"===t.value,_=t=>""===t.value,y=(t,e)=>{let i=!0;const r=t.slice();let o=r.pop();for(;i&&r.length;)i=r.every((t=>o.intersects(t,e))),o=r.pop();return i},w=(t,e)=>(t=t.replace(d[u.BUILD],""),c("comp",t,e),t=O(t,e),c("caret",t),t=C(t,e),c("tildes",t),t=$(t,e),c("xrange",t),t=A(t,e),c("stars",t),t),b=t=>!t||"x"===t.toLowerCase()||"*"===t,C=(t,e)=>t.trim().split(/\s+/).map((t=>E(t,e))).join(" "),E=(t,e)=>{const i=e.loose?d[u.TILDELOOSE]:d[u.TILDE];return t.replace(i,((e,i,r,o,n)=>{let s;return c("tilde",t,e,i,r,o,n),b(i)?s="":b(r)?s=`>=${i}.0.0 <${+i+1}.0.0-0`:b(o)?s=`>=${i}.${r}.0 <${i}.${+r+1}.0-0`:n?(c("replaceTilde pr",n),s=`>=${i}.${r}.${o}-${n} <${i}.${+r+1}.0-0`):s=`>=${i}.${r}.${o} <${i}.${+r+1}.0-0`,c("tilde return",s),s}))},O=(t,e)=>t.trim().split(/\s+/).map((t=>k(t,e))).join(" "),k=(t,e)=>{c("caret",t,e);const i=e.loose?d[u.CARETLOOSE]:d[u.CARET],r=e.includePrerelease?"-0":"";return t.replace(i,((e,i,o,n,s)=>{let a;return c("caret",t,e,i,o,n,s),b(i)?a="":b(o)?a=`>=${i}.0.0${r} <${+i+1}.0.0-0`:b(n)?a="0"===i?`>=${i}.${o}.0${r} <${i}.${+o+1}.0-0`:`>=${i}.${o}.0${r} <${+i+1}.0.0-0`:s?(c("replaceCaret pr",s),a="0"===i?"0"===o?`>=${i}.${o}.${n}-${s} <${i}.${o}.${+n+1}-0`:`>=${i}.${o}.${n}-${s} <${i}.${+o+1}.0-0`:`>=${i}.${o}.${n}-${s} <${+i+1}.0.0-0`):(c("no pr"),a="0"===i?"0"===o?`>=${i}.${o}.${n}${r} <${i}.${o}.${+n+1}-0`:`>=${i}.${o}.${n}${r} <${i}.${+o+1}.0-0`:`>=${i}.${o}.${n} <${+i+1}.0.0-0`),c("caret return",a),a}))},$=(t,e)=>(c("replaceXRanges",t,e),t.split(/\s+/).map((t=>S(t,e))).join(" ")),S=(t,e)=>{t=t.trim();const i=e.loose?d[u.XRANGELOOSE]:d[u.XRANGE];return t.replace(i,((i,r,o,n,s,a)=>{c("xRange",t,i,r,o,n,s,a);const l=b(o),d=l||b(n),u=d||b(s),h=u;return"="===r&&h&&(r=""),a=e.includePrerelease?"-0":"",l?i=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(d&&(n=0),s=0,">"===r?(r=">=",d?(o=+o+1,n=0,s=0):(n=+n+1,s=0)):"<="===r&&(r="<",d?o=+o+1:n=+n+1),"<"===r&&(a="-0"),i=`${r+o}.${n}.${s}${a}`):d?i=`>=${o}.0.0${a} <${+o+1}.0.0-0`:u&&(i=`>=${o}.${n}.0${a} <${o}.${+n+1}.0-0`),c("xRange return",i),i}))},A=(t,e)=>(c("replaceStars",t,e),t.trim().replace(d[u.STAR],"")),x=(t,e)=>(c("replaceGTE0",t,e),t.trim().replace(d[e.includePrerelease?u.GTE0PRE:u.GTE0],"")),D=t=>(e,i,r,o,n,s,a,c,l,d,u,h)=>`${i=b(r)?"":b(o)?`>=${r}.0.0${t?"-0":""}`:b(n)?`>=${r}.${o}.0${t?"-0":""}`:s?`>=${i}`:`>=${i}${t?"-0":""}`} ${c=b(l)?"":b(d)?`<${+l+1}.0.0-0`:b(u)?`<${l}.${+d+1}.0-0`:h?`<=${l}.${d}.${u}-${h}`:t?`<${l}.${d}.${+u+1}-0`:`<=${c}`}`.trim(),T=(t,e,i)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!i.includePrerelease){for(let i=0;i<t.length;i++)if(c(t[i].semver),t[i].semver!==a.ANY&&t[i].semver.prerelease.length>0){const r=t[i].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}},8411:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var r=i(3560);class o extends r.default{}},8425:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>o});var r=i(3560);class o extends r.default{static getDefaultConfig(){return{type:"tile",icon:void 0,line_color:void 0,entity:""}}constructor(t,e){super(t,e),this.configuration={...this.configuration,visibility:[{condition:"state",entity:t.entity_id,state:"on"}]}}}},8499:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2453),n=i(1122);class s extends n.default{static getDefaultConfig(){return{title:(0,o.k)("vacuum.vacuums"),path:"vacuums",icon:"mdi:robot-vacuum",subview:!1,headerCardConfiguration:{iconOn:"mdi:robot-vacuum",iconOff:"mdi:robot-vacuum-off",onService:"vacuum.start",offService:"vacuum.stop"}}}static getViewHeaderCardConfig(){return{title:(0,o.k)("vacuum.all_vacuums"),subtitle:r.O.getCountTemplate(s.domain,"in","[cleaning, returning]")+` ${(0,o.k)("vacuum.vacuums")} ${(0,o.k)("generic.busy")}`}}constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}}s.domain="vacuum";const a=s},8587:t=>{"use strict";const e=Object.freeze({loose:!0}),i=Object.freeze({});t.exports=t=>t?"object"!=typeof t?e:t:i},8721:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s});var r=i(5689),o=i(4818);class n extends o.default{static getDefaultConfig(){return{type:"custom:mushroom-climate-card",icon:void 0,layout:"horizontal",hvac_modes:["off","cool","heat","fan_only"],show_temperature_control:!0,collapsible_controls:!0}}constructor(t,e){super(t),this.configuration={...this.configuration,...n.getDefaultConfig(),...this.getSubClassCustomCardConfig(t),...e}}is_card_active(t){return this.is_generic_card_active(t,"!=","off")}getSubClassCustomCardConfig(t){const e=r.O.hassStates[t.entity_id];if(!e)return null;const i=e.attributes.hvac_modes;return i?{hvac_modes:i}:null}}const s=n},8794:t=>{"use strict";t.exports=class{constructor(){this.max=1e3,this.map=new Map}get(t){const e=this.map.get(t);return void 0===e?void 0:(this.map.delete(t),this.map.set(t,e),e)}delete(t){return this.map.delete(t)}set(t,e){if(!this.delete(t)&&void 0!==e){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(t,e)}return this}}},8816:(t,e,i)=>{"use strict";i.d(e,{Hg:()=>r,wj:()=>l,J_:()=>f});var r,o,n=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function s(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!((r=t[i])===(o=e[i])||n(r)&&n(o)))return!1;var r,o;return!0}!function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(r||(r={})),function(t){t.local="local",t.server="server"}(o||(o={}));const a=Intl.DateTimeFormat?.().resolvedOptions?.().timeZone,c=a??"UTC",l=(t,e)=>t===o.local&&a?c:e;var d,u,h;!function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.quote_decimal="quote_decimal",t.space_comma="space_comma",t.none="none"}(d||(d={})),function(t){t.language="language",t.system="system",t.DMY="DMY",t.MDY="MDY",t.YMD="YMD"}(u||(u={})),function(t){t.language="language",t.monday="monday",t.tuesday="tuesday",t.wednesday="wednesday",t.thursday="thursday",t.friday="friday",t.saturday="saturday",t.sunday="sunday"}(h||(h={}));const f=function(t,e){void 0===e&&(e=s);var i=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(i&&i.lastThis===this&&e(r,i.lastArgs))return i.lastResult;var n=t.apply(this,r);return i={lastResult:n,lastArgs:r,lastThis:this},n}return r.clear=function(){i=null},r}((t=>{if(t.time_format===r.language||t.time_format===r.system){const e=t.time_format===r.language?t.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(e).includes("10")}return t.time_format===r.am_pm}))},8868:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-entity-card",icon:void 0,icon_color:void 0,tap_action:{action:"toggle"}}}constructor(t,e){super(t);const i=o.getDefaultConfig();this.configuration={...this.configuration,...i,...e}}}const n=o},9042:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"area",area:""}}constructor(t,e){super(t);const i=o.getDefaultConfig();i.area=t.area_id,i.navigation_path=i.area,this.configuration={...this.configuration,...i,...e,type:i.type}}}const n=o},9304:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2453),n=i(1122);class s extends n.default{static getDefaultConfig(){return{title:(0,o.k)("light.lights"),path:"lights",icon:"mdi:lightbulb-group",subview:!1,headerCardConfiguration:{iconOn:"mdi:lightbulb",iconOff:"mdi:lightbulb-off",onService:"light.turn_on",offService:"light.turn_off"}}}static getViewHeaderCardConfig(){return{title:(0,o.k)("light.all_lights"),subtitle:`${r.O.getCountTemplate(s.domain,"eq","on")} ${(0,o.k)("light.lights")} `+(0,o.k)("generic.on")}}constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}}s.domain="light";const a=s},9555:(t,e,i)=>{var r={"./AbstractView":[1122,792],"./AbstractView.ts":[1122,792],"./AreaView":[1217],"./AreaView.ts":[1217],"./ButtonView":[6864,792],"./ButtonView.ts":[6864,792],"./CameraView":[1255,792],"./CameraView.ts":[1255,792],"./ClimateView":[6559,792],"./ClimateView.ts":[6559,792],"./CoverView":[7547,792],"./CoverView.ts":[7547,792],"./FanView":[245,792],"./FanView.ts":[245,792],"./HomeView":[3880,792],"./HomeView.ts":[3880,792],"./LightView":[9304,792],"./LightView.ts":[9304,792],"./LockView":[7935,792],"./LockView.ts":[7935,792],"./SceneView":[7204,792],"./SceneView.ts":[7204,792],"./SecurityView":[7498,792],"./SecurityView.ts":[7498,792],"./SensorView":[9762,792],"./SensorView.ts":[9762,792],"./SwitchView":[2464,792],"./SwitchView.ts":[2464,792],"./VacuumView":[8499,792],"./VacuumView.ts":[8499,792],"./ValveView":[9798,792],"./ValveView.ts":[9798,792]};function o(t){if(!i.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],o=e[0];return Promise.all(e.slice(1).map(i.e)).then((()=>i(o)))}o.keys=()=>Object.keys(r),o.id=9555,t.exports=o},9589:(t,e,i)=>{"use strict";const r=i(9718),o=i(6874),n=i(3908),s=i(1123),a=i(144),c=i(6953),l=i(7414),d=i(5388),u=i(1832),h=i(2938),f=i(6254),p=i(4493),m=i(1729),g=i(560),v=i(9970),_=i(1763),y=i(909),w=i(3927),b=i(4277),C=i(5580),E=i(7059),O=i(4641),k=i(3999),$=i(4089),S=i(5200),A=i(2111),x=i(6170),D=i(3904),T=i(8311),I=i(7638),N=i(7631),R=i(9628),P=i(270),L=i(1261),M=i(3874),z=i(7075),V=i(5571),j=i(5342),H=i(6780),F=i(2525),U=i(5032);t.exports={parse:a,valid:c,clean:l,inc:d,diff:u,major:h,minor:f,patch:p,prerelease:m,compare:g,rcompare:v,compareLoose:_,compareBuild:y,sort:w,rsort:b,gt:C,lt:E,eq:O,neq:k,gte:$,lte:S,cmp:A,coerce:x,Comparator:D,Range:T,satisfies:I,toComparators:N,maxSatisfying:R,minSatisfying:P,minVersion:L,validRange:M,outside:z,gtr:V,ltr:j,intersects:H,simplifyRange:F,subset:U,SemVer:n,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,RELEASE_TYPES:o.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},9608:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-humidifier-card",show_target_humidity_control:!0,collapsible_controls:!1,layout:"horizontal",icon:void 0}}constructor(t,e){super(t),this.has_target_humidity=!1,this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}is_card_active(t){return this.is_generic_card_active(t)}}const n=o},9628:(t,e,i)=>{"use strict";const r=i(3908),o=i(8311);t.exports=(t,e,i)=>{let n=null,s=null,a=null;try{a=new o(e,i)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(n&&-1!==s.compare(t)||(n=t,s=new r(n,i)))})),n}},9718:(t,e,i)=>{"use strict";const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:n}=i(6874),s=i(7272),a=(e=t.exports={}).re=[],c=e.safeRe=[],l=e.src=[],d=e.safeSrc=[],u=e.t={};let h=0;const f="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",n],[f,o]],m=(t,e,i)=>{const r=(t=>{for(const[e,i]of p)t=t.split(`${e}*`).join(`${e}{0,${i}}`).split(`${e}+`).join(`${e}{1,${i}}`);return t})(e),o=h++;s(t,o,e),u[t]=o,l[o]=e,d[o]=r,a[o]=new RegExp(e,i?"g":void 0),c[o]=new RegExp(r,i?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),m("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${f}+`),m("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),m("FULL",`^${l[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),m("LOOSE",`^${l[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),m("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),m("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?`+`(?:${l[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",l[u.COERCE],!0),m("COERCERTLFULL",l[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",m("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",m("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},9762:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(977),o=i(2453),n=i(1122);class s extends n.default{static getDefaultConfig(){return{title:(0,o.k)("sensor.sensors"),icon:"mdi:water",path:"sensor",subview:!1}}static getViewHeaderCardConfig(){return{title:(0,o.k)("sensor.sensors")}}domains(){return{sensor:!0,binary_sensor:!0}}constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}async createCard(t){return"sensor"==t.entity_id.split(".")[0]?await r.default.createCard(t):await super.createCard(t)}}s.domain="sensor";const a=s},9798:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>a});var r=i(5689),o=i(2453),n=i(1122);class s extends n.default{constructor(t){super(),this.initializeViewConfig(s.getDefaultConfig(),t,s.getViewHeaderCardConfig())}static getDefaultConfig(){return{title:(0,o.k)("valve.valves"),path:"valves",icon:"mdi:valve",subview:!1,headerCardConfiguration:{iconOn:"mdi:valve-open",iconOff:"mdi:valve-closed",onService:"valve.open_valve",offService:"valve.close_valve"}}}static getViewHeaderCardConfig(){return{title:(0,o.k)("valve.all_valves"),subtitle:r.O.getCountTemplate(s.domain,"in","[closed]")+` ${(0,o.k)("valve.valves")} ${(0,o.k)("valve.unclosed")}`}}}s.domain="valve";const a=s},9879:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});var r=i(4818);class o extends r.default{static getDefaultConfig(){return{type:"custom:mushroom-media-player-card",use_media_info:!0,media_controls:["on_off","shuffle","previous","play_pause_stop","next","repeat"],show_volume_level:!0,volume_controls:["volume_mute","volume_set","volume_buttons"],icon:void 0}}constructor(t,e){super(t),this.configuration={...this.configuration,...o.getDefaultConfig(),...e}}}const n=o},9908:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>c});var r=i(5689),o=i(8222),n=i(2682),s=i(2453);class a extends o.default{constructor(t){super(),this.configuration={...this.configuration,...a.getDefaultConfig(),...t}}static getDefaultConfig(){return{type:"template",icon:"mdi:dip-switch",icon_color:"blue",content:r.O.getCountTemplate("switch","eq","on"),tap_action:{action:"perform-action",confirmation:{text:(0,s.k)("switch.chip_confirmation")},perform_action:"switch.turn_off",target:{entity_id:new n.A(r.O.entities).whereDomain("switch").getValuesByProperty("entity_id")}},hold_action:{action:"navigate",navigation_path:"switches"}}}}const c=a},9970:(t,e,i)=>{"use strict";const r=i(560);t.exports=(t,e,i)=>r(e,t,i)}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var n=r[t]={exports:{}};return i[t](n,n.exports,o),n.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,o.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var n=Object.create(null);o.r(n);var s={};t=t||[null,e({}),e([]),e(e)];for(var a=2&r&&i;("object"==typeof a||"function"==typeof a)&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>s[t]=()=>i[t]));return s.default=()=>i,o.d(n,s),n},o.d=(t,e)=>{for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},o.e=()=>Promise.resolve(),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=i[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{"use strict";var t=o(5689),e=o(2700),i=o(3007),r=o(6964),n=o(2682);class s{constructor(t,e=s.DEFAULT_NAMESPACE){this.hass=t,this.namespace=e}async showNotification(t,e,i={}){if(this.hasBeenShown(t))return;const o=this.compileStorageKey(t,i.storageKey),n=i.hassId||o,a=i.title||s.DEFAULT_TITLE;try{await this.hass.callService("persistent_notification","create",{title:a,message:e,notification_id:n}),this.markAsShown(t,i.version||"1.0.0",n)}catch(i){(0,r.OG)(r.nR,`Failed to show notification '${t}'!`,i),(0,r.OG)(r.tm,`[${a}] ${e}`)}}async dismissNotification(t,e){const i=this.compileStorageKey(t,e);try{const t=localStorage.getItem(i),e=t?JSON.parse(t):null;if(localStorage.removeItem(i),e?.hassId)return void await this.hass.callService("persistent_notification","dismiss",{notification_id:e.hassId});(0,r.OG)(r.WU,`Notification '${i}' cleared from storage!`)}catch(t){(0,r.OG)(r.nR,`Failed to clear notification '${i}'!`,t)}}hasBeenShown(t,e){const i=this.compileStorageKey(t,e);try{const t=localStorage.getItem(i);return!!t&&JSON.parse(t).shown}catch{return!1}}compileStorageKey(t,e){return e||`${this.namespace||s.DEFAULT_NAMESPACE}_${t}`}markAsShown(t,e,i){const o=this.compileStorageKey(t),n={shown:!0,timestamp:(new Date).toISOString(),version:e,hassId:i};try{localStorage.setItem(o,JSON.stringify(n))}catch(t){(0,r.OG)(r.nR,"Failed to save the notification state!",t)}}}s.DEFAULT_NAMESPACE="chuguan_strategy",s.DEFAULT_TITLE="ChuGuan Strategy Notification";var a=o(7716),c=o.n(a);const l=[{storageKey:"chips_deprecation",title:"ChuGuan Strategy",message:"## Deprecation Notice\nAs of v3.0.0, chips are replaced by badges.\nFrom that version on, you must rename all `chip` or `chips` references and settings in your YAML configuration.\nThe [documentation](https://digilive.github.io/mushroom-strategy/options/home-view-options/) will be updated accordingly.",fromVersion:"2.3.5",toVersion:"3.0.0"},{storageKey:"greetingCard_poll",title:"ChuGuan Strategy",message:"## Greeting Card Poll\nPlease follow below link to read about the greeting card's future and cast your vote.\nhttps://github.com/DigiLive/mushroom-strategy/discussions/259",fromVersion:"2.4.1",toVersion:"3.0.0"}];var d=o(3472);let u=!1;var h=o(1217),f=o(564),p=o(2618),m=o(4791),g=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s};let v=class extends p.WF{constructor(){super(...arguments),this.config={title:"",event:""}}_handleClick(){const t=this.config.event??"";t&&this.dispatchEvent(new CustomEvent(t,{detail:this.config.detail,bubbles:!0,composed:!0}))}setConfig(t){this.config=t}render(){return console.log(this.hass.dockedSidebar),p.qy`
      <ha-card class="my-button">
        <div>
          <mushroom-button @click=${this._handleClick}>
            <span style="line-height: 1;padding: 16px;">${this.config.title}</span>
          </mushroom-button>
        </div>
      </ha-card>
    `}static get styles(){return p.AH`
      .my-button {

      }
        .my-button:active {
          opacity: 0.5;
        }
    `}};function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){b(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function C(){return C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},C.apply(this,arguments)}function E(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}g([(0,m.MZ)({attribute:!1})],v.prototype,"hass",void 0),v=g([(0,m.EM)("chuguan-event-button")],v);var O=E(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),k=E(/Edge/i),$=E(/firefox/i),S=E(/safari/i)&&!E(/chrome/i)&&!E(/android/i),A=E(/iP(ad|od|hone)/i),x=E(/chrome/i)&&E(/android/i),D={capture:!1,passive:!1};function T(t,e,i){t.addEventListener(e,i,!O&&D)}function I(t,e,i){t.removeEventListener(e,i,!O&&D)}function N(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function R(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function P(t,e,i,r){if(t){i=i||document;do{if(null!=e&&(">"===e[0]?t.parentNode===i&&N(t,e):N(t,e))||r&&t===i)return t;if(t===i)break}while(t=R(t))}return null}var L,M=/\s+/g;function z(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(M," ").replace(" "+e+" "," ");t.className=(r+(i?" "+e:"")).replace(M," ")}}function V(t,e,i){var r=t&&t.style;if(r){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=i+("string"==typeof i?"":"px")}}function j(t,e){var i="";if("string"==typeof t)i=t;else do{var r=V(t,"transform");r&&"none"!==r&&(i=r+" "+i)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(i)}function H(t,e,i){if(t){var r=t.getElementsByTagName(e),o=0,n=r.length;if(i)for(;o<n;o++)i(r[o],o);return r}return[]}function F(){return document.scrollingElement||document.documentElement}function U(t,e,i,r,o){if(t.getBoundingClientRect||t===window){var n,s,a,c,l,d,u;if(t!==window&&t.parentNode&&t!==F()?(s=(n=t.getBoundingClientRect()).top,a=n.left,c=n.bottom,l=n.right,d=n.height,u=n.width):(s=0,a=0,c=window.innerHeight,l=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(e||i)&&t!==window&&(o=o||t.parentNode,!O))do{if(o&&o.getBoundingClientRect&&("none"!==V(o,"transform")||i&&"static"!==V(o,"position"))){var h=o.getBoundingClientRect();s-=h.top+parseInt(V(o,"border-top-width")),a-=h.left+parseInt(V(o,"border-left-width")),c=s+n.height,l=a+n.width;break}}while(o=o.parentNode);if(r&&t!==window){var f=j(o||t),p=f&&f.a,m=f&&f.d;f&&(c=(s/=m)+(d/=m),l=(a/=p)+(u/=p))}return{top:s,left:a,bottom:c,right:l,width:u,height:d}}}function G(t,e,i){for(var r=Y(t,!0),o=U(t)[e];r;){var n=U(r)[i];if(!("top"===i||"left"===i?o>=n:o<=n))return r;if(r===F())break;r=Y(r,!1)}return!1}function B(t,e,i,r){for(var o=0,n=0,s=t.children;n<s.length;){if("none"!==s[n].style.display&&s[n]!==Jt.ghost&&(r||s[n]!==Jt.dragged)&&P(s[n],i.draggable,t,!1)){if(o===e)return s[n];o++}n++}return null}function W(t,e){for(var i=t.lastElementChild;i&&(i===Jt.ghost||"none"===V(i,"display")||e&&!N(i,e));)i=i.previousElementSibling;return i||null}function X(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Jt.clone||e&&!N(t,e)||i++;return i}function q(t){var e=0,i=0,r=F();if(t)do{var o=j(t),n=o.a,s=o.d;e+=t.scrollLeft*n,i+=t.scrollTop*s}while(t!==r&&(t=t.parentNode));return[e,i]}function Y(t,e){if(!t||!t.getBoundingClientRect)return F();var i=t,r=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var o=V(i);if(i.clientWidth<i.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!i.getBoundingClientRect||i===document.body)return F();if(r||e)return i;r=!0}}}while(i=i.parentNode);return F()}function Z(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function K(t,e){return function(){if(!L){var i=arguments;1===i.length?t.call(this,i[0]):t.apply(this,i),L=setTimeout((function(){L=void 0}),e)}}}function J(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function Q(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function tt(t,e,i){var r={};return Array.from(t.children).forEach((function(o){var n,s,a,c;if(P(o,e.draggable,t,!1)&&!o.animated&&o!==i){var l=U(o);r.left=Math.min(null!==(n=r.left)&&void 0!==n?n:1/0,l.left),r.top=Math.min(null!==(s=r.top)&&void 0!==s?s:1/0,l.top),r.right=Math.max(null!==(a=r.right)&&void 0!==a?a:-1/0,l.right),r.bottom=Math.max(null!==(c=r.bottom)&&void 0!==c?c:-1/0,l.bottom)}})),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var et="Sortable"+(new Date).getTime();var it=[],rt={initializeByDefault:!0},ot={mount:function(t){for(var e in rt)rt.hasOwnProperty(e)&&!(e in t)&&(t[e]=rt[e]);it.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),it.push(t)},pluginEvent:function(t,e,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=t+"Global";it.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][o]&&e[r.pluginName][o](y({sortable:e},i)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](y({sortable:e},i)))}))},initializePlugins:function(t,e,i,r){for(var o in it.forEach((function(r){var o=r.pluginName;if(t.options[o]||r.initializeByDefault){var n=new r(t,e,t.options);n.sortable=t,n.options=t.options,t[o]=n,C(i,n.defaults)}})),t.options)if(t.options.hasOwnProperty(o)){var n=this.modifyOption(t,o,t.options[o]);void 0!==n&&(t.options[o]=n)}},getEventProperties:function(t,e){var i={};return it.forEach((function(r){"function"==typeof r.eventProperties&&C(i,r.eventProperties.call(e[r.pluginName],t))})),i},modifyOption:function(t,e,i){var r;return it.forEach((function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(r=o.optionListeners[e].call(t[o.pluginName],i))})),r}};var nt=["evt"],st=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.evt,o=function(t,e){if(null==t)return{};var i,r,o=function(t,e){if(null==t)return{};var i,r,o={},n=Object.keys(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||(o[i]=t[i]);return o}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(r=0;r<n.length;r++)i=n[r],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(o[i]=t[i])}return o}(i,nt);ot.pluginEvent.bind(Jt)(t,e,y({dragEl:ct,parentEl:lt,ghostEl:dt,rootEl:ut,nextEl:ht,lastDownEl:ft,cloneEl:pt,cloneHidden:mt,dragStarted:At,putSortable:bt,activeSortable:Jt.active,originalEvent:r,oldIndex:gt,oldDraggableIndex:_t,newIndex:vt,newDraggableIndex:yt,hideGhostForTarget:qt,unhideGhostForTarget:Yt,cloneNowHidden:function(){mt=!0},cloneNowShown:function(){mt=!1},dispatchSortableEvent:function(t){at({sortable:e,name:t,originalEvent:r})}},o))};function at(t){!function(t){var e=t.sortable,i=t.rootEl,r=t.name,o=t.targetEl,n=t.cloneEl,s=t.toEl,a=t.fromEl,c=t.oldIndex,l=t.newIndex,d=t.oldDraggableIndex,u=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||i&&i[et]){var m,g=e.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||O||k?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=s||i,m.from=a||i,m.item=o||i,m.clone=n,m.oldIndex=c,m.newIndex=l,m.oldDraggableIndex=d,m.newDraggableIndex=u,m.originalEvent=h,m.pullMode=f?f.lastPutMode:void 0;var _=y(y({},p),ot.getEventProperties(r,e));for(var w in _)m[w]=_[w];i&&i.dispatchEvent(m),g[v]&&g[v].call(e,m)}}(y({putSortable:bt,cloneEl:pt,targetEl:ct,rootEl:ut,oldIndex:gt,oldDraggableIndex:_t,newIndex:vt,newDraggableIndex:yt},t))}var ct,lt,dt,ut,ht,ft,pt,mt,gt,vt,_t,yt,wt,bt,Ct,Et,Ot,kt,$t,St,At,xt,Dt,Tt,It,Nt=!1,Rt=!1,Pt=[],Lt=!1,Mt=!1,zt=[],Vt=!1,jt=[],Ht="undefined"!=typeof document,Ft=A,Ut=k||O?"cssFloat":"float",Gt=Ht&&!x&&!A&&"draggable"in document.createElement("div"),Bt=function(){if(Ht){if(O)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Wt=function(t,e){var i=V(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=B(t,0,e),n=B(t,1,e),s=o&&V(o),a=n&&V(n),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+U(o).width,l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+U(n).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&"none"!==s.float){var d="left"===s.float?"left":"right";return!n||"both"!==a.clear&&a.clear!==d?"horizontal":"vertical"}return o&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||c>=r&&"none"===i[Ut]||n&&"none"===i[Ut]&&c+l>r)?"vertical":"horizontal"},Xt=function(t){function e(t,i){return function(r,o,n,s){var a=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==t&&(i||a))return!0;if(null==t||!1===t)return!1;if(i&&"clone"===t)return t;if("function"==typeof t)return e(t(r,o,n,s),i)(r,o,n,s);var c=(i?r:o).options.group.name;return!0===t||"string"==typeof t&&t===c||t.join&&t.indexOf(c)>-1}}var i={},r=t.group;r&&"object"==w(r)||(r={name:r}),i.name=r.name,i.checkPull=e(r.pull,!0),i.checkPut=e(r.put),i.revertClone=r.revertClone,t.group=i},qt=function(){!Bt&&dt&&V(dt,"display","none")},Yt=function(){!Bt&&dt&&V(dt,"display","")};Ht&&!x&&document.addEventListener("click",(function(t){if(Rt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Rt=!1,!1}),!0);var Zt=function(t){if(ct){t=t.touches?t.touches[0]:t;var e=(o=t.clientX,n=t.clientY,Pt.some((function(t){var e=t[et].options.emptyInsertThreshold;if(e&&!W(t)){var i=U(t),r=o>=i.left-e&&o<=i.right+e,a=n>=i.top-e&&n<=i.bottom+e;return r&&a?s=t:void 0}})),s);if(e){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[et]._onDragOver(i)}}var o,n,s},Kt=function(t){ct&&ct.parentNode[et]._isOutsideThisEl(t.target)};function Jt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=C({},e),t[et]=this;var i,r,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Jt.supportPointer&&"PointerEvent"in window&&(!S||A),emptyInsertThreshold:5};for(var n in ot.initializePlugins(this,t,o),o)!(n in e)&&(e[n]=o[n]);for(var s in Xt(e),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!e.forceFallback&&Gt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?T(t,"pointerdown",this._onTapStart):(T(t,"mousedown",this._onTapStart),T(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(t,"dragover",this),T(t,"dragenter",this)),Pt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),C(this,(r=[],{captureAnimationState:function(){r=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){if("none"!==V(t,"display")&&t!==Jt.ghost){r.push({target:t,rect:U(t)});var e=y({},r[r.length-1].rect);if(t.thisAnimationDuration){var i=j(t,!0);i&&(e.top-=i.f,e.left-=i.e)}t.fromRect=e}}))},addAnimationState:function(t){r.push(t)},removeAnimationState:function(t){r.splice(function(t,e){for(var i in t)if(t.hasOwnProperty(i))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[i][r])return Number(i);return-1}(r,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(i),void("function"==typeof t&&t());var o=!1,n=0;r.forEach((function(t){var i=0,r=t.target,s=r.fromRect,a=U(r),c=r.prevFromRect,l=r.prevToRect,d=t.rect,u=j(r,!0);u&&(a.top-=u.f,a.left-=u.e),r.toRect=a,r.thisAnimationDuration&&Z(c,a)&&!Z(s,a)&&(d.top-a.top)/(d.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(i=function(t,e,i,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*r.animation}(d,c,l,e.options)),Z(a,s)||(r.prevFromRect=s,r.prevToRect=a,i||(i=e.options.animation),e.animate(r,d,a,i)),i&&(o=!0,n=Math.max(n,i),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),i),r.thisAnimationDuration=i)})),clearTimeout(i),o?i=setTimeout((function(){"function"==typeof t&&t()}),n):"function"==typeof t&&t(),r=[]},animate:function(t,e,i,r){if(r){V(t,"transition",""),V(t,"transform","");var o=j(this.el),n=o&&o.a,s=o&&o.d,a=(e.left-i.left)/(n||1),c=(e.top-i.top)/(s||1);t.animatingX=!!a,t.animatingY=!!c,V(t,"transform","translate3d("+a+"px,"+c+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),V(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),V(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){V(t,"transition",""),V(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}))}function Qt(t,e,i,r,o,n,s,a){var c,l,d=t[et],u=d.options.onMove;return!window.CustomEvent||O||k?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=i,c.draggedRect=r,c.related=o||e,c.relatedRect=n||U(e),c.willInsertAfter=a,c.originalEvent=s,t.dispatchEvent(c),u&&(l=u.call(d,c,s)),l}function te(t){t.draggable=!1}function ee(){Vt=!1}function ie(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,r=0;i--;)r+=e.charCodeAt(i);return r.toString(36)}function re(t){return setTimeout(t,0)}function oe(t){return clearTimeout(t)}Jt.prototype={constructor:Jt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(xt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,ct):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,r=this.options,o=r.preventOnFilter,n=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,l=r.filter;if(function(t){jt.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var r=e[i];r.checked&&jt.push(r)}}(i),!ct&&!(/mousedown|pointerdown/.test(n)&&0!==t.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!S||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=P(a,r.draggable,i,!1))&&a.animated||ft===a)){if(gt=X(a),_t=X(a,r.draggable),"function"==typeof l){if(l.call(this,t,a,this))return at({sortable:e,rootEl:c,name:"filter",targetEl:a,toEl:i,fromEl:i}),st("filter",e,{evt:t}),void(o&&t.preventDefault())}else if(l&&(l=l.split(",").some((function(r){if(r=P(c,r.trim(),i,!1))return at({sortable:e,rootEl:r,name:"filter",targetEl:a,fromEl:i,toEl:i}),st("filter",e,{evt:t}),!0}))))return void(o&&t.preventDefault());r.handle&&!P(c,r.handle,i,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,i){var r,o=this,n=o.el,s=o.options,a=n.ownerDocument;if(i&&!ct&&i.parentNode===n){var c=U(i);if(ut=n,lt=(ct=i).parentNode,ht=ct.nextSibling,ft=i,wt=s.group,Jt.dragged=ct,Ct={target:ct,clientX:(e||t).clientX,clientY:(e||t).clientY},$t=Ct.clientX-c.left,St=Ct.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,ct.style["will-change"]="all",r=function(){st("delayEnded",o,{evt:t}),Jt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!$&&o.nativeDraggable&&(ct.draggable=!0),o._triggerDragStart(t,e),at({sortable:o,name:"choose",originalEvent:t}),z(ct,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){H(ct,t.trim(),te)})),T(a,"dragover",Zt),T(a,"mousemove",Zt),T(a,"touchmove",Zt),s.supportPointer?(T(a,"pointerup",o._onDrop),!this.nativeDraggable&&T(a,"pointercancel",o._onDrop)):(T(a,"mouseup",o._onDrop),T(a,"touchend",o._onDrop),T(a,"touchcancel",o._onDrop)),$&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ct.draggable=!0),st("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(k||O))r();else{if(Jt.eventCanceled)return void this._onDrop();s.supportPointer?(T(a,"pointerup",o._disableDelayedDrag),T(a,"pointercancel",o._disableDelayedDrag)):(T(a,"mouseup",o._disableDelayedDrag),T(a,"touchend",o._disableDelayedDrag),T(a,"touchcancel",o._disableDelayedDrag)),T(a,"mousemove",o._delayedDragTouchMoveHandler),T(a,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&T(a,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ct&&te(ct),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;I(t,"mouseup",this._disableDelayedDrag),I(t,"touchend",this._disableDelayedDrag),I(t,"touchcancel",this._disableDelayedDrag),I(t,"pointerup",this._disableDelayedDrag),I(t,"pointercancel",this._disableDelayedDrag),I(t,"mousemove",this._delayedDragTouchMoveHandler),I(t,"touchmove",this._delayedDragTouchMoveHandler),I(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):T(document,e?"touchmove":"mousemove",this._onTouchMove):(T(ct,"dragend",this),T(ut,"dragstart",this._onDragStart));try{document.selection?re((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(Nt=!1,ut&&ct){st("dragStarted",this,{evt:e}),this.nativeDraggable&&T(document,"dragover",Kt);var i=this.options;!t&&z(ct,i.dragClass,!1),z(ct,i.ghostClass,!0),Jt.active=this,t&&this._appendGhost(),at({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Et){this._lastX=Et.clientX,this._lastY=Et.clientY,qt();for(var t=document.elementFromPoint(Et.clientX,Et.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Et.clientX,Et.clientY))!==e;)e=t;if(ct.parentNode[et]._isOutsideThisEl(t),e)do{if(e[et]&&e[et]._onDragOver({clientX:Et.clientX,clientY:Et.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=R(e));Yt()}},_onTouchMove:function(t){if(Ct){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,n=dt&&j(dt,!0),s=dt&&n&&n.a,a=dt&&n&&n.d,c=Ft&&It&&q(It),l=(o.clientX-Ct.clientX+r.x)/(s||1)+(c?c[0]-zt[0]:0)/(s||1),d=(o.clientY-Ct.clientY+r.y)/(a||1)+(c?c[1]-zt[1]:0)/(a||1);if(!Jt.active&&!Nt){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(dt){n?(n.e+=l-(Ot||0),n.f+=d-(kt||0)):n={a:1,b:0,c:0,d:1,e:l,f:d};var u="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");V(dt,"webkitTransform",u),V(dt,"mozTransform",u),V(dt,"msTransform",u),V(dt,"transform",u),Ot=l,kt=d,Et=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!dt){var t=this.options.fallbackOnBody?document.body:ut,e=U(ct,!0,Ft,!0,t),i=this.options;if(Ft){for(It=t;"static"===V(It,"position")&&"none"===V(It,"transform")&&It!==document;)It=It.parentNode;It!==document.body&&It!==document.documentElement?(It===document&&(It=F()),e.top+=It.scrollTop,e.left+=It.scrollLeft):It=F(),zt=q(It)}z(dt=ct.cloneNode(!0),i.ghostClass,!1),z(dt,i.fallbackClass,!0),z(dt,i.dragClass,!0),V(dt,"transition",""),V(dt,"transform",""),V(dt,"box-sizing","border-box"),V(dt,"margin",0),V(dt,"top",e.top),V(dt,"left",e.left),V(dt,"width",e.width),V(dt,"height",e.height),V(dt,"opacity","0.8"),V(dt,"position",Ft?"absolute":"fixed"),V(dt,"zIndex","100000"),V(dt,"pointerEvents","none"),Jt.ghost=dt,t.appendChild(dt),V(dt,"transform-origin",$t/parseInt(dt.style.width)*100+"% "+St/parseInt(dt.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,r=t.dataTransfer,o=i.options;st("dragStart",this,{evt:t}),Jt.eventCanceled?this._onDrop():(st("setupClone",this),Jt.eventCanceled||((pt=Q(ct)).removeAttribute("id"),pt.draggable=!1,pt.style["will-change"]="",this._hideClone(),z(pt,this.options.chosenClass,!1),Jt.clone=pt),i.cloneId=re((function(){st("clone",i),Jt.eventCanceled||(i.options.removeCloneOnHide||ut.insertBefore(pt,ct),i._hideClone(),at({sortable:i,name:"clone"}))})),!e&&z(ct,o.dragClass,!0),e?(Rt=!0,i._loopId=setInterval(i._emulateDragOver,50)):(I(document,"mouseup",i._onDrop),I(document,"touchend",i._onDrop),I(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,ct)),T(document,"drop",i),V(ct,"transform","translateZ(0)")),Nt=!0,i._dragStartId=re(i._dragStarted.bind(i,e,t)),T(document,"selectstart",i),At=!0,window.getSelection().removeAllRanges(),S&&V(document.body,"user-select","none"))},_onDragOver:function(t){var e,i,r,o,n=this.el,s=t.target,a=this.options,c=a.group,l=Jt.active,d=wt===c,u=a.sort,h=bt||l,f=this,p=!1;if(!Vt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=P(s,a.draggable,n,!0),D("dragOver"),Jt.eventCanceled)return p;if(ct.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||f._ignoreWhileAnimating===s)return I(!1);if(Rt=!1,l&&!a.disabled&&(d?u||(r=lt!==ut):bt===this||(this.lastPutMode=wt.checkPull(this,l,ct,t))&&c.checkPut(this,l,ct,t))){if(o="vertical"===this._getDirection(t,s),e=U(ct),D("dragOverValid"),Jt.eventCanceled)return p;if(r)return lt=ut,T(),this._hideClone(),D("revert"),Jt.eventCanceled||(ht?ut.insertBefore(ct,ht):ut.appendChild(ct)),I(!0);var m=W(n,a.draggable);if(!m||function(t,e,i){var r=U(W(i.el,i.options.draggable)),o=tt(i.el,i.options,dt);return e?t.clientX>o.right+10||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>o.bottom+10||t.clientX>r.right&&t.clientY>r.top}(t,o,this)&&!m.animated){if(m===ct)return I(!1);if(m&&n===t.target&&(s=m),s&&(i=U(s)),!1!==Qt(ut,n,ct,e,s,i,t,!!s))return T(),m&&m.nextSibling?n.insertBefore(ct,m.nextSibling):n.appendChild(ct),lt=n,N(),I(!0)}else if(m&&function(t,e,i){var r=U(B(i.el,0,i.options,!0)),o=tt(i.el,i.options,dt);return e?t.clientX<o.left-10||t.clientY<r.top&&t.clientX<r.right:t.clientY<o.top-10||t.clientY<r.bottom&&t.clientX<r.left}(t,o,this)){var g=B(n,0,a,!0);if(g===ct)return I(!1);if(i=U(s=g),!1!==Qt(ut,n,ct,e,s,i,t,!1))return T(),n.insertBefore(ct,g),lt=n,N(),I(!0)}else if(s.parentNode===n){i=U(s);var v,_,w,b=ct.parentNode!==n,C=!function(t,e,i){var r=i?t.left:t.top,o=i?t.right:t.bottom,n=i?t.width:t.height,s=i?e.left:e.top,a=i?e.right:e.bottom,c=i?e.width:e.height;return r===s||o===a||r+n/2===s+c/2}(ct.animated&&ct.toRect||e,s.animated&&s.toRect||i,o),E=o?"top":"left",O=G(s,"top","top")||G(ct,"top","top"),k=O?O.scrollTop:void 0;if(xt!==s&&(_=i[E],Lt=!1,Mt=!C&&a.invertSwap||b),v=function(t,e,i,r,o,n,s,a){var c=r?t.clientY:t.clientX,l=r?i.height:i.width,d=r?i.top:i.left,u=r?i.bottom:i.right,h=!1;if(!s)if(a&&Tt<l*o){if(!Lt&&(1===Dt?c>d+l*n/2:c<u-l*n/2)&&(Lt=!0),Lt)h=!0;else if(1===Dt?c<d+Tt:c>u-Tt)return-Dt}else if(c>d+l*(1-o)/2&&c<u-l*(1-o)/2)return function(t){return X(ct)<X(t)?1:-1}(e);return(h=h||s)&&(c<d+l*n/2||c>u-l*n/2)?c>d+l/2?1:-1:0}(t,s,i,o,C?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Mt,xt===s),0!==v){var $=X(ct);do{$-=v,w=lt.children[$]}while(w&&("none"===V(w,"display")||w===dt))}if(0===v||w===s)return I(!1);xt=s,Dt=v;var S=s.nextElementSibling,A=!1,x=Qt(ut,n,ct,e,s,i,t,A=1===v);if(!1!==x)return 1!==x&&-1!==x||(A=1===x),Vt=!0,setTimeout(ee,30),T(),A&&!S?n.appendChild(ct):s.parentNode.insertBefore(ct,A?S:s),O&&J(O,0,k-O.scrollTop),lt=ct.parentNode,void 0===_||Mt||(Tt=Math.abs(_-U(s)[E])),N(),I(!0)}if(n.contains(ct))return I(!1)}return!1}function D(a,c){st(a,f,y({evt:t,isOwner:d,axis:o?"vertical":"horizontal",revert:r,dragRect:e,targetRect:i,canSort:u,fromSortable:h,target:s,completed:I,onMove:function(i,r){return Qt(ut,n,ct,e,i,U(i),t,r)},changed:N},c))}function T(){D("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function I(e){return D("dragOverCompleted",{insertion:e}),e&&(d?l._hideClone():l._showClone(f),f!==h&&(z(ct,bt?bt.options.ghostClass:l.options.ghostClass,!1),z(ct,a.ghostClass,!0)),bt!==f&&f!==Jt.active?bt=f:f===Jt.active&&bt&&(bt=null),h===f&&(f._ignoreWhileAnimating=s),f.animateAll((function(){D("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===ct&&!ct.animated||s===n&&!s.animated)&&(xt=null),a.dragoverBubble||t.rootEl||s===document||(ct.parentNode[et]._isOutsideThisEl(t.target),!e&&Zt(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),p=!0}function N(){vt=X(ct),yt=X(ct,a.draggable),at({sortable:f,name:"change",toEl:n,newIndex:vt,newDraggableIndex:yt,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){I(document,"mousemove",this._onTouchMove),I(document,"touchmove",this._onTouchMove),I(document,"pointermove",this._onTouchMove),I(document,"dragover",Zt),I(document,"mousemove",Zt),I(document,"touchmove",Zt)},_offUpEvents:function(){var t=this.el.ownerDocument;I(t,"mouseup",this._onDrop),I(t,"touchend",this._onDrop),I(t,"pointerup",this._onDrop),I(t,"pointercancel",this._onDrop),I(t,"touchcancel",this._onDrop),I(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;vt=X(ct),yt=X(ct,i.draggable),st("drop",this,{evt:t}),lt=ct&&ct.parentNode,vt=X(ct),yt=X(ct,i.draggable),Jt.eventCanceled||(Nt=!1,Mt=!1,Lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),oe(this.cloneId),oe(this._dragStartId),this.nativeDraggable&&(I(document,"drop",this),I(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),S&&V(document.body,"user-select",""),V(ct,"transform",""),t&&(At&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),dt&&dt.parentNode&&dt.parentNode.removeChild(dt),(ut===lt||bt&&"clone"!==bt.lastPutMode)&&pt&&pt.parentNode&&pt.parentNode.removeChild(pt),ct&&(this.nativeDraggable&&I(ct,"dragend",this),te(ct),ct.style["will-change"]="",At&&!Nt&&z(ct,bt?bt.options.ghostClass:this.options.ghostClass,!1),z(ct,this.options.chosenClass,!1),at({sortable:this,name:"unchoose",toEl:lt,newIndex:null,newDraggableIndex:null,originalEvent:t}),ut!==lt?(vt>=0&&(at({rootEl:lt,name:"add",toEl:lt,fromEl:ut,originalEvent:t}),at({sortable:this,name:"remove",toEl:lt,originalEvent:t}),at({rootEl:lt,name:"sort",toEl:lt,fromEl:ut,originalEvent:t}),at({sortable:this,name:"sort",toEl:lt,originalEvent:t})),bt&&bt.save()):vt!==gt&&vt>=0&&(at({sortable:this,name:"update",toEl:lt,originalEvent:t}),at({sortable:this,name:"sort",toEl:lt,originalEvent:t})),Jt.active&&(null!=vt&&-1!==vt||(vt=gt,yt=_t),at({sortable:this,name:"end",toEl:lt,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){st("nulling",this),ut=ct=lt=dt=ht=pt=ft=mt=Ct=Et=At=vt=yt=gt=_t=xt=Dt=bt=wt=Jt.dragged=Jt.ghost=Jt.clone=Jt.active=null,jt.forEach((function(t){t.checked=!0})),jt.length=Ot=kt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ct&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,r=0,o=i.length,n=this.options;r<o;r++)P(t=i[r],n.draggable,this.el,!1)&&e.push(t.getAttribute(n.dataIdAttr)||ie(t));return e},sort:function(t,e){var i={},r=this.el;this.toArray().forEach((function(t,e){var o=r.children[e];P(o,this.options.draggable,r,!1)&&(i[t]=o)}),this),e&&this.captureAnimationState(),t.forEach((function(t){i[t]&&(r.removeChild(i[t]),r.appendChild(i[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return P(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];var r=ot.modifyOption(this,t,e);i[t]=void 0!==r?r:e,"group"===t&&Xt(i)},destroy:function(){st("destroy",this);var t=this.el;t[et]=null,I(t,"mousedown",this._onTapStart),I(t,"touchstart",this._onTapStart),I(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(I(t,"dragover",this),I(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Pt.splice(Pt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!mt){if(st("hideClone",this),Jt.eventCanceled)return;V(pt,"display","none"),this.options.removeCloneOnHide&&pt.parentNode&&pt.parentNode.removeChild(pt),mt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(mt){if(st("showClone",this),Jt.eventCanceled)return;ct.parentNode!=ut||this.options.group.revertClone?ht?ut.insertBefore(pt,ht):ut.appendChild(pt):ut.insertBefore(pt,ct),this.options.group.revertClone&&this.animate(ct,pt),V(pt,"display",""),mt=!1}}else this._hideClone()}},Ht&&T(document,"touchmove",(function(t){(Jt.active||Nt)&&t.cancelable&&t.preventDefault()})),Jt.utils={on:T,off:I,css:V,find:H,is:function(t,e){return!!P(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},throttle:K,closest:P,toggleClass:z,clone:Q,index:X,nextTick:re,cancelNextTick:oe,detectDirection:Wt,getChild:B,expando:et},Jt.get=function(t){return t[et]},Jt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Jt.utils=y(y({},Jt.utils),t.utils)),ot.mount(t)}))},Jt.create=function(t,e){return new Jt(t,e)},Jt.version="1.15.6";var ne,se,ae,ce,le,de,ue=[],he=!1;function fe(){ue.forEach((function(t){clearInterval(t.pid)})),ue=[]}function pe(){clearInterval(de)}var me=K((function(t,e,i,r){if(e.scroll){var o,n=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,c=e.scrollSpeed,l=F(),d=!1;se!==i&&(se=i,fe(),ne=e.scroll,o=e.scrollFn,!0===ne&&(ne=Y(i,!0)));var u=0,h=ne;do{var f=h,p=U(f),m=p.top,g=p.bottom,v=p.left,_=p.right,y=p.width,w=p.height,b=void 0,C=void 0,E=f.scrollWidth,O=f.scrollHeight,k=V(f),$=f.scrollLeft,S=f.scrollTop;f===l?(b=y<E&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),C=w<O&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(b=y<E&&("auto"===k.overflowX||"scroll"===k.overflowX),C=w<O&&("auto"===k.overflowY||"scroll"===k.overflowY));var A=b&&(Math.abs(_-n)<=a&&$+y<E)-(Math.abs(v-n)<=a&&!!$),x=C&&(Math.abs(g-s)<=a&&S+w<O)-(Math.abs(m-s)<=a&&!!S);if(!ue[u])for(var D=0;D<=u;D++)ue[D]||(ue[D]={});ue[u].vx==A&&ue[u].vy==x&&ue[u].el===f||(ue[u].el=f,ue[u].vx=A,ue[u].vy=x,clearInterval(ue[u].pid),0==A&&0==x||(d=!0,ue[u].pid=setInterval(function(){r&&0===this.layer&&Jt.active._onTouchMove(le);var e=ue[this.layer].vy?ue[this.layer].vy*c:0,i=ue[this.layer].vx?ue[this.layer].vx*c:0;"function"==typeof o&&"continue"!==o.call(Jt.dragged.parentNode[et],i,e,t,le,ue[this.layer].el)||J(ue[this.layer].el,i,e)}.bind({layer:u}),24))),u++}while(e.bubbleScroll&&h!==l&&(h=Y(h,!1)));he=d}}),30),ge=function(t){var e=t.originalEvent,i=t.putSortable,r=t.dragEl,o=t.activeSortable,n=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var c=i||o;s();var l=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,d=document.elementFromPoint(l.clientX,l.clientY);a(),c&&!c.el.contains(d)&&(n("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function ve(){}function _e(){}ve.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=B(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:ge},C(ve,{pluginName:"revertOnSpill"}),_e.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:ge},C(_e,{pluginName:"removeOnSpill"}),Jt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):e.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?I(document,"dragover",this._handleAutoScroll):(I(document,"pointermove",this._handleFallbackAutoScroll),I(document,"touchmove",this._handleFallbackAutoScroll),I(document,"mousemove",this._handleFallbackAutoScroll)),pe(),fe(),clearTimeout(L),L=void 0},nulling:function(){le=se=ne=he=de=ae=ce=null,ue.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var i=this,r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,n=document.elementFromPoint(r,o);if(le=t,e||this.options.forceAutoScrollFallback||k||O||S){me(t,this.options,n,e);var s=Y(n,!0);!he||de&&r===ae&&o===ce||(de&&pe(),de=setInterval((function(){var n=Y(document.elementFromPoint(r,o),!0);n!==s&&(s=n,fe()),me(t,i.options,n,e)}),10),ae=r,ce=o)}else{if(!this.options.bubbleScroll||Y(n,!0)===F())return void fe();me(t,this.options,Y(n,!1),!1)}}},C(t,{pluginName:"scroll",initializeByDefault:!0})}),Jt.mount(_e,ve);const ye=Jt;var we=o(6752),be=o(7804);const{I:Ce}=we.ge,Ee=()=>document.createComment(""),Oe=(t,e,i)=>{const r=t._$AA.parentNode,o=void 0===e?t._$AB:e._$AA;if(void 0===i){const e=r.insertBefore(Ee(),o),n=r.insertBefore(Ee(),o);i=new Ce(e,n,t,t.options)}else{const e=i._$AB.nextSibling,n=i._$AM,s=n!==t;if(s){let e;i._$AQ?.(t),i._$AM=t,void 0!==i._$AP&&(e=t._$AU)!==n._$AU&&i._$AP(e)}if(e!==o||s){let t=i._$AA;for(;t!==e;){const e=t.nextSibling;r.insertBefore(t,o),t=e}}}return i},ke=(t,e,i=t)=>(t._$AI(e,i),t),$e={},Se=(t,e=$e)=>t._$AH=e,Ae=t=>{t._$AR(),t._$AA.remove()},xe=(t,e,i)=>{const r=new Map;for(let o=e;o<=i;o++)r.set(t[o],o);return r},De=(0,be.u$)(class extends be.WL{constructor(t){if(super(t),t.type!==be.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,i){let r;void 0===i?i=e:void 0!==e&&(r=e);const o=[],n=[];let s=0;for(const e of t)o[s]=r?r(e,s):s,n[s]=i(e,s),s++;return{values:n,keys:o}}render(t,e,i){return this.dt(t,e,i).values}update(t,[e,i,r]){const o=t._$AH,{values:n,keys:s}=this.dt(e,i,r);if(!Array.isArray(o))return this.ut=s,n;const a=this.ut??=[],c=[];let l,d,u=0,h=o.length-1,f=0,p=n.length-1;for(;u<=h&&f<=p;)if(null===o[u])u++;else if(null===o[h])h--;else if(a[u]===s[f])c[f]=ke(o[u],n[f]),u++,f++;else if(a[h]===s[p])c[p]=ke(o[h],n[p]),h--,p--;else if(a[u]===s[p])c[p]=ke(o[u],n[p]),Oe(t,c[p+1],o[u]),u++,p--;else if(a[h]===s[f])c[f]=ke(o[h],n[f]),Oe(t,o[u],o[h]),h--,f++;else if(void 0===l&&(l=xe(s,f,p),d=xe(a,u,h)),l.has(a[u]))if(l.has(a[h])){const e=d.get(s[f]),i=void 0!==e?o[e]:null;if(null===i){const e=Oe(t,o[u]);ke(e,n[f]),c[f]=e}else c[f]=ke(i,n[f]),Oe(t,o[u],i),o[e]=null;f++}else Ae(o[h]),h--;else Ae(o[u]),u++;for(;f<=p;){const e=Oe(t,c[p+1]);ke(e,n[f]),c[f++]=e}for(;u<=h;){const t=o[u++];null!==t&&Ae(t)}return this.ut=s,Se(t,c),we.c0}});var Te=o(2453),Ie=function(t,e,i,r){var o,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s};let Ne=class extends p.WF{constructor(){super(),this.title="",this.event="",this.action={action:"none"},this.list=[],function(){if(document.querySelector("chuguan-sort-list-drag-class"))return;const t=document.createElement("style");t.id="chuguan-sort-list-drag-class",t.textContent="\n            .chuguan-sort-item {\n                display: flex;\n                align-items: center;\n                padding: 6px 12px;\n                user-select: none;\n                -webkit-user-select: none;\n                transition: background 0.2s ease;\n                background: var(--secondary-background-color);\n                opacity: 1;\n\n                .sort-item-visibility-toggle {\n                    background: none;\n                    border: none;\n                    color: var(--primary-text-color);\n                    cursor: pointer;\n                    border-radius: 16px;\n                    transition: all 0.2s ease;\n                    margin-right: 12px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    position: relative;\n                    -webkit-tap-highlight-color: transparent;\n                    touch-action: manipulation;\n                    user-select: none;\n                    -webkit-user-select: none;\n                }\n                    .sort-item-info {\n                    flex: 1;\n                    min-width: 0;\n                }\n                .sort-item-name {\n                    font-size: 14px;\n                    font-weight: 500;\n                    display: block;\n                    white-space: nowrap;\n                    overflow: hidden;\n                    text-overflow: ellipsis;\n                }\n                    .sort-item-drag {\n                    color: var(--primary-text-color);\n                    cursor: grab;\n                    padding: 8px;\n                    margin: -8px;\n                    touch-action: none;\n                }\n            }\n            .chuguan-sort-item.hidden {\n                opacity: 0.5 !important;\n                color: var(--secondary-text-color);\n                .sort-item-name {\n                    color: var(--secondary-text-color);\n                }\n                .sort-item-drag {\n                    color: var(--secondary-text-color);\n                }\n            }\n            .chuguan-sort-item.hidden .sort-item-name {\n                color: var(--secondary-text-color);\n            }\n            .chuguan-sort-item.hidden .sort-item-drag {\n                color: var(--secondary-text-color);\n            }\n    ",document.head.appendChild(t)}()}setConfig(t){this.list=t.list||[],this.title=t.title||"",this.event=t.event||"",this.action=t.action||{action:"none"}}connectedCallback(){super.connectedCallback(),this.setupSortable()}setupSortable(){if(this.sortable)return;const t=this.renderRoot.querySelector(".chuguan-sort-list");t?this.sortable=new ye(t,{scroll:!0,scrollSensitivity:100,scrollSpeed:3,bubbleScroll:!1,forceAutoScrollFallback:!0,forceFallback:!0,fallbackOnBody:!0,swapThreshold:1,animation:150,easing:"cubic-bezier(1, 0, 0, 1)",delay:150,delayOnTouchOnly:!0,draggable:".chuguan-sort-item",handle:".sort-item-drag",filter:".sort-item-visibility-toggle",preventOnFilter:!1,ghostClass:"sortable-ghost",dragClass:"sortable-drag",chosenClass:"sortable-chosen",fallbackClass:"sortable-fallback",onStart:t=>{},onEnd:t=>{const e=t.oldDraggableIndex,i=t.newDraggableIndex;if(null==e||null==i||e==i)return;const r=this.list.splice(e,1)[0];this.list.splice(i,0,r),this.list.forEach(((t,e)=>{t.order=e}))}}):setTimeout((()=>{this.setupSortable()}),10)}clickItem(t){const e=this.list.map((e=>({...e,visible:e.id===t.id?!e.visible:e.visible})));this.list=e}clickSave(){if("none"!=this.action.action){const t={config:{tap_action:this.action},action:"tap"},e=new CustomEvent("hass-action",{detail:t,bubbles:!0,composed:!0});this.dispatchEvent(e)}this.event&&this.dispatchEvent(new CustomEvent(this.event,{detail:this.list,bubbles:!0,composed:!0}))}render(){return p.qy`
            <div>
                <ha-card>
                    <div class="chuguan-sort-list-title">${this.title}</div>
                    <div class="chuguan-sort-list">
                        ${De(this.list,(t=>t.id),(t=>p.qy`
                            <div class="chuguan-sort-item ${t.visible?"visible":"hidden"}">
                                <button class="sort-item-visibility-toggle ${t.visible?"visible":"hidden"}" @click="${()=>this.clickItem(t)}">
                                    <ha-icon icon="${t.visible?"mdi:eye":"mdi:eye-off"}"></ha-icon>
                                </button>
                                <div class="sort-item-info">
                                    <span class="sort-item-name">${t.name}</span>
                                </div>
                                <div class="sort-item-drag">
                                    <ha-icon icon="mdi:menu"></ha-icon>
                                </div>
                            </div>
                        `))}
                    </div>
                </ha-card>
                <ha-card style="margin-top: 10px;">
                    <button class="save-button" @click="${()=>this.clickSave()}">
                        <span>${(0,Te.k)("setting.save")}</span>
                    </button>
                </ha-card>
            </div>
            
    `}static get styles(){return p.AH`
                .chuguan-sort-list-title {
                    font-size: 16px;
                    font-weight: 500;
                    color: var(--primary-text-color);
                    text-align: center;
                    line-height: 36px;
                }
                    .save-button {
                        line-height: 1;
                        padding: 16px;
                        color: var(--primary-color);
                        background-color: unset;
                        border: none;
                        width: 100%;
                        font-size: 16px;
                        font-weight: 500;
                    }
                    .save-button:active {
                        opacity: 0.5;
                    }
            .chuguan-sort-list {
                padding: 16px;
                .chuguan-sort-item {
                    display: flex;
                    align-items: center;
                    padding: 6px 12px;
                    border-bottom: 0.5px solid var(--secondary-background-color);
                    user-select: none;
                    -webkit-user-select: none;
                    transition: background 0.2s ease;
                }
                .chuguan-sort-item:last-child {
                    border-bottom: none;
                }
                .chuguan-sort-item.hidden {
                    opacity: 0.5;
                }
                .sort-item-visibility-toggle {
                    background: none;
                    border: none;
                    color: var(--primary-text-color);
                    cursor: pointer;
                    border-radius: 16px;
                    transition: all 0.2s ease;
                    margin-right: 12px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    position: relative;
                    -webkit-tap-highlight-color: transparent;
                    touch-action: manipulation;
                    user-select: none;
                    -webkit-user-select: none;
                }
                .sort-item-visibility-toggle:active {
                    // opacity: 0.5;
                }
                .sort-item-visibility-toggle * {
                    pointer-events: none;
                    user-select: none;
                    -webkit-user-select: none;
                }
                .sort-item-visibility-toggle.hidden {
                    color: var(--secondary-text-color);
                }
                .sort-item-info {
                    flex: 1;
                    min-width: 0;
                }
                .sort-item-name {
                    font-size: 14px;
                    font-weight: 500;
                    display: block;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }
                .chuguan-sort-item.hidden .sort-item-name {
                    color: var(--secondary-text-color);
                }
                .sort-item-drag {
                    color: var(--primary-text-color);
                    cursor: grab;
                    padding: 8px;
                    margin: -8px;
                    touch-action: none;
                }
                .chuguan-sort-item.hidden .sort-item-drag {
                    color: var(--secondary-text-color);
                }
                .sort-item-drag:active {
                    cursor: grabbing;
                }
                .sort-item-drag * {
                    pointer-events: none;
                    user-select: none;
                    -webkit-user-select: none;
                }
                .chuguan-sort-item.dragging {
                    background: rgba(44, 44, 46, 1);
                    transform: scale(1.02);
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                    z-index: 1000;
                }
                .chuguan-sort-item.drag-over {
                    border-top: 2px solid #ffaf00;
                }
                .sortable-ghost {
                    opacity: 0 !important;
                }
                .chuguan-sort-item.sortable-chosen {
                    background: var(--secondary-background-color) !important;
                }
                .chuguan-sort-item.sortable-fallback,.sortable-fallback {
                    opacity: 1 !important;
                    visibility: visible !important;
                    display: flex !important;
                }
            }
            
        `}};Ie([(0,m.MZ)({type:String})],Ne.prototype,"title",void 0),Ie([(0,m.MZ)({type:String})],Ne.prototype,"event",void 0),Ie([(0,m.MZ)({type:Object})],Ne.prototype,"action",void 0),Ie([(0,m.MZ)({type:Array})],Ne.prototype,"list",void 0),Ne=Ie([(0,m.EM)("chuguan-sort-list")],Ne);class Re extends HTMLTemplateElement{static async generateDashboard(s){console.log(s),await t.O.initialize(s),await Re.handleNotifications(s.hass);const a=[],c=t.O.getExposedNames("view").filter(e.uS).map((async e=>{try{const n=(0,i.p)(`${e}View`),s=new(0,(await o(9555)(`./${n}`)).default)(t.O.strategyOptions.views[e]),a=await s.getView();if(a.cards.length)return a.background=(0,d.Y)(e),a;(0,r.OG)(r.tm,`View ${e} has no entities available!`)}catch(t){(0,r.OG)(r.nR,`Error importing ${e} view!`,t)}return null})),l=(await Promise.all(c)).filter(Boolean);a.push(...l),t.O.strategyOptions.extra_views&&(a.push(...t.O.strategyOptions.extra_views),a.sort(((t,e)=>(t.order??1/0)-(e.order??1/0)||(t.title??"").localeCompare(e.title??""))));const u=a.map((t=>t.order??0)),p=Math.max(...u),m=t.O.areas.filter((i=>new n.A(t.O.entities).whereAreaId(i.area_id).whereNotDomain(e.hE).toList().length>0));return a.push(...m.map(((t,e)=>h.AreaView.getView(t,p+e+1)))),a.push(...(new f.default).getViews()),console.log(a),{views:a}}static async generateView(t){console.log(t);const e=t.view.strategy?.options;if("setting"===e?.type)return{cards:await(new f.default).getCards()};if(e?.type){const t=(0,i.p)(`${e.type}View`),r=new(0,(await o(629)(`./${t}`)).default)(e);return{cards:await r.getCards()}}if(e?.area){const t=e.area,i=new h.AreaView(t);return{cards:await i.getCards()}}return{cards:[]}}static async handleNotifications(t){const e=new s(t,"chuguan_strategy"),i=Pe.replace(/^v/,""),o=c().coerce(i)||"0.0.0";try{await Promise.all(l.map((async t=>c().gte(o,t.fromVersion)&&c().lte(o,t.toVersion)?e.showNotification(t.storageKey,t.message,{title:t.title,version:i}):e.dismissNotification(t.storageKey))))}catch(t){(0,r.OG)(r.nR,"Error while handling persistent notifications for ChuGuan Strategy",t)}}}customElements.define("ll-strategy-chuguan-strategy",Re),u||(u=!0);const Pe="v1.0.3";console.info("%c ChuGuan Strategy %c ".concat(Pe," "),"color: white; background: coral; font-weight: 700;","color: coral; background: white; font-weight: 700;")})()})();